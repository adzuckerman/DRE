<aura:component controller="echosign_dev1.AgreementComponentController"
                implements="force:appHostable,lightning:actionOverride,force:hasRecordId"
                description="Represents an agreement component."
                extensible="true">
    
   <ltng:require scripts="{!join(',', 
        $Resource.echosign_dev1__jquery321, 
        $Resource.echosign_dev1__jqueryui1121 + '/jquery-ui-1.12.1.custom/jquery-ui.min.js',
        '/support/console/36.0/integration.js')}"

        styles="{!join(',', 
        $Resource.echosign_dev1__SLDS + '/SLDS/assets/styles/salesforce-lightning-design-system-vf.css', 
        $Resource.echosign_dev1__jqueryui1121 + '/jquery-ui-1.12.1.custom/jquery-ui.min.css')}" />

    <aura:handler name="notifyDocumentsSelected" event="echosign_dev1:DocumentSelectedEvent" action="{!c.onDocumentSelected}"/>
    <aura:handler name="notifyTemplatesSelected" event="echosign_dev1:FormFieldTemplateSelectedEvent" action="{!c.onTemplateSelected}"/>
     
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    
    <aura:attribute name="agreementWrapper" type="echosign_dev1.AgreementWrapper" description="Reference to the internal agreement record which was loaded." />
    <aura:attribute name="agreementName" type="String" />
    <aura:attribute name="sitePrefix" type="String" />
    <aura:attribute name="agreementStatus" type="String" />
    <aura:attribute name="agreementMessage" type="String" />
    <aura:attribute name="agreementCc" type="String" />
    <aura:attribute name="agreementReminder" type="String" />
    <aura:attribute name="agreementReminderLabel" type="String" />
    <aura:attribute name="agreementSignOrder" type="String" />
    <aura:attribute name="agreementSignOrderLabel" type="String" />
    <aura:attribute name="agreementLanguage" type="String" />
    <aura:attribute name="agreementLanguageLabel" type="String" />
    <aura:attribute name="agreementHosted" type="Boolean" />
    <aura:attribute name="agreementSenderSigns" type="Boolean" />
    <aura:attribute name="agreementAuthoring" type="Boolean" />
    <aura:attribute name="agreementViewPassword" type="Boolean" />
    <aura:attribute name="viewPassword" type="String" />
    <aura:attribute name="viewPasswordConfirm" type="String" />
    <aura:attribute name="signPassword" type="String" />
    <aura:attribute name="signPasswordExternal" type="String" />
    <aura:attribute name="signPasswordInternal" type="String" />
    <aura:attribute name="signPasswordConfirm" type="String" />
    <aura:attribute name="signPasswordExternalConfirm" type="String" />
    <aura:attribute name="signPasswordInternalConfirm" type="String" />
    <aura:attribute name="recipientWrappers" type="echosign_dev1.RecipientWrapper[]" />
    <aura:attribute name="deletedRecipientWrappers" type="echosign_dev1.RecipientWrapper[]" />
    <aura:attribute name="attachmentWrappers" type="echosign_dev1.AttachmentWrapper[]" />
    <aura:attribute name="deletedAttachmentWrappers" type="echosign_dev1.AttachmentWrapper[]" />
    <aura:attribute name="templateWrappers" type="echosign_dev1.FormFieldTemplateWrapper[]" />
    <aura:attribute name="deletedTemplateWrappers" type="echosign_dev1.FormFieldTemplateWrapper[]" />
    <aura:attribute name="searchItemWrappers" type="echosign_dev1.SObjectItemWrapper" />
    <aura:attribute name="agreementTemplates" type="String" />
    
    <aura:attribute name="selectedRecipientIndex" type="Integer" />
    <aura:attribute name="recipientPassword" type="String" />
    <aura:attribute name="recipientConfirmPassword" type="String" />
    <aura:attribute name="selectedRecipientWrapper" type="echosign_dev1.RecipientWrapper" />
    <aura:attribute name="replacementRecipientWrapper" type="echosign_dev1.RecipientWrapper" />
    
    <aura:attribute name="settingsWrapper" type="echosign_dev1.SettingsWrapper" />    
    <aura:attribute name="schemaWrapper" type="echosign_dev1.SchemaWrapper" />
    
    <aura:attribute name="templateId" type="String" description="The template ID of the template record." />
    <aura:attribute name="masterId" type="String" description="The master ID of the master record." />
    <aura:attribute name="agreementId" type="String" description="The ID of the agreement record." />
    <aura:attribute name="actionName" type="String" description="The name of the action to invoke on the agreement record." />
    
    <aura:attribute name="httpProtocolOptions" type="String[]" default="http://,https://"/>
                          
    <aura:attribute name="agreementActionError" type="String" />
    
    <aura:attribute name="calendarWeeks" type="echosign_dev1.CalendarWeek" />
    <aura:attribute name="expirePickerSelectedMonth" type="String" />
    <aura:attribute name="expirePickerSelectedMonthValue" type="String" />
    <aura:attribute name="expirePickerSelectedYearValue" type="String" />
    <aura:attribute name="isCurrentMonth" type="Boolean" />
    <aura:attribute name="signingDeadlineFormatted" type="String" />
    
    <aura:attribute name="isIe11" type="Boolean" default="false" />
    <aura:attribute name="isSafari" type="Boolean" default="false" />
    <aura:attribute name="isFirefox" type="Boolean" default="false" />
    <aura:attribute name="isMacOs" type="Boolean" default="false" />
    <aura:attribute name="isChrome" type="Boolean" default="false" />
    <aura:attribute name="isEdge" type="Boolean" default="false" />
    
    <aura:attribute name="isSent" type="Boolean" />
    <aura:attribute name="isNotSent" type="Boolean" default="{! !isSent }" />
    <aura:attribute name="isError" type="Boolean" default="false" />
    <aura:attribute name="isLoading" type="Boolean" default="true" />
    <aura:attribute name="isLogout" type="Boolean" default="false" />
    <aura:attribute name="isShowAddDocumentsDialog" type="Boolean" default="false" />
    <aura:attribute name="isShowAddTemplatesDialog" type="Boolean" default="false" />
    <aura:attribute name="isViewPasswordSetStarted" type="Boolean" default="false" />
    <aura:attribute name="isSignPasswordSetStarted" type="Boolean" default="false" />
    <aura:attribute name="isSignInternalPasswordSetStarted" type="Boolean" default="false" />
    <aura:attribute name="isSignExternalPasswordSetStarted" type="Boolean" default="false" />
    <aura:attribute name="isRecipientVerificationPasswordStarted" type="Boolean" default="false" />
    
    <aura:attribute name="errorMessage" type="String" />
    <aura:attribute name="isNoDocumentsError" type="Boolean" default="false" />
    <aura:attribute name="isNoRecipientsError" type="Boolean" default="false" />
    <aura:attribute name="isViewPasswordError" type="Boolean" default="false" />
    <aura:attribute name="viewPasswordError" type="Boolean" default="false" />
    <aura:attribute name="isSignPasswordError" type="Boolean" default="false" />
    <aura:attribute name="signPasswordError" type="Boolean" default="false" />
    <aura:attribute name="isSignInternalPasswordError" type="Boolean" default="false" />
    <aura:attribute name="signInternalPasswordError" type="Boolean" default="false" />
    <aura:attribute name="isSignExternalPasswordError" type="Boolean" default="false" />
    <aura:attribute name="signExternalPasswordError" type="Boolean" default="false" />
    <aura:attribute name="storeRecipientVerificationDisabled" type="Boolean" default="false" />
    <aura:attribute name="storeReplaceRecipientDisabled" type="Boolean" default="true" />
    
    <aura:attribute name="searchTerm" type="String" default="true" />
    <aura:attribute name="isMobile" type="Boolean" default="false" />

    <!-- get rid of this once listeners are hooked into starrtup -->
    <aura:attribute name="listenersInit" type="Boolean" default="false" />
    
    <iframe height="0" width="0" src="https://secure.echosign.com/public/logout" style="visibility:hidden;display:none"></iframe>
    
    <div class="slds slds-p-left--small slds-p-right--small slds-p-top--small" style="background:white;" id="signLandingPage" aura:id="signLandingPage">
        <div class="main slds-m-bottom--largel" style="min-height: -webkit-fill-available;" role="main">
            <div>
                <div id="notification" aura:id="notification" style="display: none;" class="esign-notification">
                    <span class="dismiss"><a title="dismiss this notification">x</a></span>
                </div>
            </div>
            <!-- replaceRecipientDialog start ********************************************************************************************************************************************** -->
            <!-- RecipientType as modal in mobile for replacing recipient recipient starts-->
            <div id="replaceRecipientTypeMobile"  aura:id="replaceRecipientTypeMobile" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container esign-mobile-modal-container">
                        <div class="slds-modal__content esign-mobile-modal-picker-content" onclick="{! c.closeReplaceRecipientTypeDialog}">
                        </div>
                        <div class="esign-mobile-modal-picker-footer slds-docked-form-footer slds-scrollable">
                            <ul class="slds-list--vertical slds-has-dividers--top esign-width-fit slds-align-middle" role="presentation">
                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contact_Recipient_Type__c) }">
                                    <li class="{! if((v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Contact_Recipient_Label), 'role-highlight ', '') + ' slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                        <a id="s01" onclick="{!c.onSelectContactReplaceRecipientType}" role="option">
                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                            {! $Label.echosign_dev1.Contact_Recipient_Label }</a>
                                    </li>
                                </aura:if>
                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Lead_Recipient_Type__c) }">
                                    <li class="{! if((v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Lead_Recipient_Label), 'role-highlight ', '') + ' slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                        <a id="s01" onclick="{!c.onSelectLeadReplaceRecipientType}" role="option">
                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}"  category="standard" size="small" name="lead" />
                                	            {! $Label.echosign_dev1.Lead_Recipient_Label }</a>
                                    </li>
                                </aura:if>
                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_User_Recipient_Type__c) }">
                                    <li class="{! if((v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.User_Recipient_Label), 'role-highlight ', '') + ' slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                        <a id="s01" onclick="{!c.onSelectUserReplaceRecipientType}" role="option">
                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                            {! $Label.echosign_dev1.User_Recipient_Label }</a>
                                    </li>
                                </aura:if>
                                <li class="{! if((v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Email_Recipient_Label), 'role-highlight ', '') + ' slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                    <a id="s01" onclick="{!c.onSelectEmailReplaceRecipientType}" role="option">
                                        <!-- <c:svgIcon class="slds-icon slds-icon-text-default slds-icon- -small" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#email" category="action" size="small" name="email" /> -->
                                        <img class="slds-icon slds-icon--small esign-email-background" src="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/action/email_60.png'}" alt=""/>
                                        {! $Label.echosign_dev1.Email_Recipient_Label }</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- RecipientType as modal in mobile for replacing recipient recipient ends-->
            
            <div id="replaceRecipientSearchResultsOnMobile"  aura:id="replaceRecipientSearchResultsOnMobile" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container esign-mobile-modal-container">
                        <div class="slds-modal__content esign-mobile-modal-content">
                            <ul id="replaceRecipientSearchResultsListOnMobile" class="slds-list--vertical slds-has-dividers--top" role="presentation">
                                <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                    <li class="slds-has-divider--bottom esign-mobile-verification-padding" onclick="{!c.selectReplaceRecipientSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name}</li>
                                </aura:iteration>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="replaceRecipientDialog" aura:id="replaceRecipientDialog" class="slds-hide esign-z-index-for-pop-up-window">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container esign-mobile-modal-container">
                        <div class="slds-modal__header esign-mobile-modal-header">
                            <h2 class="slds-text-heading--medium esign-desktop-tablet-element">{! $Label.echosign_dev1.Agreement_Editor_Replace_Signer_Header }</h2>
                            <!-- Move the modal header to the left in mobile. -->
                            <h2 class="slds-text-heading--medium slds-float--left esign-mobile-element">{! $Label.echosign_dev1.Agreement_Editor_Replace_Signer_Header }</h2>
                            <!-- For closing modal in desktop-->
                            <button onclick="{! c.hideReplaceRecipientDialog }" class="slds-button slds-modal__close esign-desktop-tablet-element">
                                <echosign_dev1:svgIcon class="slds-button__icon slds-button__icon--inverse slds-button__icon--large esign-icon-markup" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/action-sprite/svg/symbols.svg#close'}" category="action" size="small" name="close" />
                                <span class="slds-assistive-text"></span>
                            </button>
                            <!-- For closing modal in mobile-->
                            <span onclick="{! c.hideReplaceRecipientDialog }" class="slds-icon__container slds-icon-utility-check slds-float--right esign-mobile-element">
                                <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                            </span>
                        </div>
                        <div class="slds-modal__content esign-mobile-modal-content">
                            <div class="slds-form--stacked">
                                <aura:if isTrue="{! v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Email' }">
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control">
                                            <div class="slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                <div class="slds-form-element">
                                                    <div id="replaceRecipientLookupInputPanel" class="slds-grid slds-form-element__control">
                                                        <div id="replaceRecipientTypeInput" onclick="{!c.toggleReplaceRecipientType}" class="slds-dropdown-trigger slds-align-middle ">              
                                                            <aura:if isTrue="{! v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Contact' }">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Lead' }">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'User' }">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                            </aura:if>
                                                            
                                                            <button id="replaceRecipientTypeButton" aura:id="replaceRecipientTypeButton" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                                <span class="slds-assistive-text"></span>
                                                            </button>
                                                        </div>
                                                        <aura:if isTrue="{! !v.replacementRecipientWrapper.isRecipientSet }">
                                                            <ui:inputText aura:id="replaceRecipientInputLookup" class="{! if( v.isMobile , 'esign-input-wider ', '')  + ' slds-input--bare ' }" placeholder="{! v.replacementRecipientWrapper.searchRecipientWrapper }" />
                                                        </aura:if>
                                                        <aura:if isTrue="{! v.replacementRecipientWrapper.isRecipientSet }">
                                                            <button onclick="{!c.navToReplaceRecipient}" class="slds-button esign-recipient-value slds-truncate_container--66">
                                                                <p class="slds-truncate">
                                                                    {! v.replacementRecipientWrapper.name }
                                                                </p>
                                                            </button>
                                                            <input disabled="disabled" class="slds-input--bare esign-desktop-tablet-element" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="">
                                                            </input>
                                                        </aura:if>
                                                        <div class="slds-p-right--medium slds-p-top--x-small">
                                                            <aura:if isTrue="{! !v.replacementRecipientWrapper.isRecipientSet }">
                                                                <button onclick="{!c.searchReplaceRecipient}" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                    <span class="slds-assistive-text"></span>
                                                                </button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.replacementRecipientWrapper.isRecipientSet }">
                                                                <button onclick="{!c.selectUnsetReplaceRecipient}" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                                    <span class="slds-assistive-text"></span>
                                                                </button>
                                                            </aura:if>
                                                        </div>
                                                    </div>
                                                    <div class="slds-pill-container slds-hide"></div>
                                                </div>
                                                
                                                <div id="replaceRecipientTypeDropdown"  aura:id="replaceRecipientTypeDropdown" class="slds-lookup__menu slds-hide esign-menu-align-left" role="listbox">
                                                    <ul class="slds-lookup__list" role="presentation">
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contact_Recipient_Type__c, v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Contact' ) }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectContactReplaceRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                                    {! $Label.echosign_dev1.Contact_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Lead_Recipient_Type__c, v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Lead' ) }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectLeadReplaceRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}"  category="standard" size="small" name="lead" />
                                                                    {! $Label.echosign_dev1.Lead_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_User_Recipient_Type__c, v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'User' ) }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectUserReplaceRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                                    {! $Label.echosign_dev1.User_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <li class="slds-lookup__item">
                                                            <a id="s01" onclick="{!c.onSelectEmailReplaceRecipientType}" role="option">
                                                                <!-- <c:svgIcon class="slds-icon slds-icon-text-default slds-icon- -small" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#email" category="action" size="small" name="email" /> -->
                                                                <img class="slds-icon slds-icon--small esign-email-background" src="{!$Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/action/email_60.png'}" alt=""/>
                                                                {! $Label.echosign_dev1.Email_Recipient_Label }</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                
                                                <div id="replaceRecipientSearchResults" aura:id="replaceRecipientSearchResults" class="slds-lookup__menu esign-menu-align-left slds-hide" role="listbox">
                                                    <ul id="replaceRecipientSearchResultsList" class="slds-lookup__list" role="presentation">
                                                        <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                            <li class="slds-lookup__item" ><a onclick="{!c.selectReplaceRecipientSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name}</a></li>
                                                        </aura:iteration>
                                                    </ul>
                                                </div>
                                                
                                            </div>
                                            
                                        </div>                 
                                        <div class="slds-form-element__control slds-m-top--medium">
                                            <input id="email" class="esign-input-readonly slds-input" type="email" placeholder="" value="{! v.replacementRecipientWrapper.email == null ? $Label.echosign_dev1.Agreement_Editor_Email_Fax_Label : v.replacementRecipientWrapper.email }" readonly="readonly" />
                                        </div>
                                    </div>
                                </aura:if>
                                
                                <aura:if isTrue="{! v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Email' }">
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control slds-size--1-of-1">
                                            <div id="replaceRecipientTypeInput" onclick="{!c.toggleReplaceRecipientType}" class="esign-recipient-email-type">
                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#email'}" category="standard" size="small" name="email" />           
                                                <button class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                            </div>                          
                                            <ui:inputEmail aura:id="replaceRecipientEmailInput" change="{!c.onReplaceRecipientMessageChange}" class="slds-input esign-recipient-email-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Email_Address_Placeholder }" value="{! v.replacementRecipientWrapper.email }" />          
                                        </div>
                                        
                                        <div id="replaceRecipientTypeDropdown" aura:id="replaceRecipientTypeDropdown" class="slds-lookup__menu esign-menu-align-left esign-menu-narrow slds-hide" role="listbox">
                                            <ul class="slds-lookup__list" role="presentation">
                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contact_Recipient_Type__c, v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Contact' ) }">
                                                    <li class="slds-lookup__item">
                                                        <a id="s01" onclick="{!c.onSelectContactReplaceRecipientType}" role="option">
                                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                            {! $Label.echosign_dev1.Contact_Recipient_Label }</a>
                                                    </li>
                                                </aura:if>
                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Lead_Recipient_Type__c, v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Lead' ) }">
                                                    <li class="slds-lookup__item">
                                                        <a id="s01" onclick="{!c.onSelectLeadReplaceRecipientType}" role="option">
                                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                            {! $Label.echosign_dev1.Lead_Recipient_Label }</a>
                                                    </li>
                                                </aura:if>
                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_User_Recipient_Type__c, v.replacementRecipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'User' ) }">
                                                    <li class="slds-lookup__item">
                                                        <a id="s01" onclick="{!c.onSelectUserReplaceRecipientType}" role="option">
                                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                            {! $Label.echosign_dev1.User_Recipient_Label }</a>
                                                    </li>
                                                </aura:if>
                                            </ul>
                                        </div>
                                    </div>
                                </aura:if>
                                <div class="slds-form-element slds-m-top--medium">
                                    <div class="slds-form-element__control">
                                        <ui:inputTextArea aura:id="replaceRecipientMessage" keyup="{!c.onReplaceRecipientMessageChange}" change="{!c.onReplaceRecipientMessageChange}" label="" class="slds-textarea" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Message_Placeholder }" rows="5"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slds-modal__footer">
                            <button disabled="{! v.storeReplaceRecipientDisabled }" onclick="{!c.onReplaceRecipientSubmit}" class="slds-m-left--medium slds-button slds-button--brand slds-float--right">{! $Label.echosign_dev1.Replace_Signer_Button_Label }</button>
                            <button onclick="{!c.hideReplaceRecipientDialog}" class="slds-button slds-button--neutral slds-float--right">{! $Label.echosign_dev1.Cancel_Button_Label }</button>
                        </div>
                    </div>
                </div>
                <div class="slds-modal-backdrop slds-modal-backdrop--open"></div>
            </div>
            
            <!-- replaceRecipientDialog end and recipientMessageDialogstart ********************************************************************************************************************************************** -->
            
            <div id="recipientMessageDialog" aura:id="recipientMessageDialog" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <div class="slds-modal__header">
                            <h2 class="slds-text-heading--medium">{! $Label.echosign_dev1.Agreement_Editor_Recipient_Message_Header }</h2>
                            <button onclick="{! c.toggleRecipientMessageDialog }" class="slds-button slds-modal__close">
                                <echosign_dev1:svgIcon class="slds-button__icon slds-button__icon--inverse slds-button__icon--large esign-icon-markup" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#close'}" category="action" size="small" name="close" />
                                <span class="slds-assistive-text"></span>
                            </button>
                        </div>
                        <div class="slds-modal__content">
                            <div class="slds-form--stacked">
                                <div class="slds-form-element">
                                    <div class="slds-form-element__control">
                                        <ui:inputTextArea aura:id="recipientMessage" label="" class="slds-textarea" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Message_Placeholder }" rows="5"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slds-modal__footer">
                            <button onclick="{!c.onSetRecipientMessage}" class="slds-button slds-button--brand slds-float--right slds-m-left--small">{! $Label.echosign_dev1.Save_Button_Label }</button>
                            <button onclick="{!c.toggleRecipientMessageDialog}" class="slds-button slds-button--neutral slds-float--right">{! $Label.echosign_dev1.Cancel_Button_Label }</button>
                        </div>
                    </div>
                </div>
                <div class="slds-modal-backdrop slds-modal-backdrop--open"></div>
            </div> 
            
            <!-- recipientMessageDialog end and cancelAgreementDialog start ********************************************************************************************************************************************** -->
            <!-- Code for opening collapsed feature modal starts here -->
            <div id="collapsedRecipientFeature" aura:id="collapsedRecipientFeature" class="slds-hide esign-z-index-for-pop-up-window">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container esign-mobile-modal-container">
                        <div class="slds-modal__content esign-mobile-modal-picker-content" onclick="{! c.setBackgroundPosition}">
                        </div>
                        <div  class="slds-docked-form-footer esign-mobile-modal-picker-footer slds-scrollable">
                            <ul class="slds-list--vertical esign-collapsed-feature-list esign-width-fit"> 
                                <aura:if isTrue="{! and(v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Security_Options__c, v.agreementSignOrder != 'Only I Sign')  }">
                                    <li onclick="{! c.openRecipientVerificationMobileDialog}" class="slds-list__item slds-has-block-links--space esign-collapsed-features-items">
                                        <div class="esign-collapsed-features-button slds-form-element__control">
                                            {! $Label.echosign_dev1.Agreement_Editor_Identity_Verification_Header }
                                        </div>
                                        <!-- Code for Opeing modal form-->
                                    </li>
                                </aura:if>
                                <aura:if isTrue="{! v.agreementSignOrder != 'Only I Sign' }">  
                                    <li onclick="{! c.onOpenRecipientMessageFromMobile}" class="slds-list__item slds-has-block-links--space esign-collapsed-features-items">
                                        <div class="esign-collapsed-features-button" >
                                            {! $Label.echosign_dev1.Agreement_Editor_Recipient_Message_Header }
                                        </div>                  
                                    </li>
                                </aura:if>
                                <li onclick="{!c.deleteRecipientFromMobile}" class="slds-list__item slds-has-block-links--space esign-collapsed-features-items">
                                    <div class="esign-collapsed-features-button esign-delete-recipient-text-color" >
                                        {! $Label.echosign_dev1.Delete_Recipient }
                                    </div>
                                </li> 
                                <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Disable_Delete_Recipient__c ) }">   
                                    <li onclick="{!c.closeCollapsedFeaturesFromMobile}" class="slds-list__item slds-has-divider--top-space esign-collapsed-features-items">
                                        <div class="esign-collapsed-features-button" >
                                            {! $Label.echosign_dev1.Cancel_Button_Label }
                                        </div>
                                    </li> 
                                </aura:if>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Code for opening collapsed feature modal ends here -->
            
            <!-- Code for opening recipient message modal for mobile starts here. -->
            <div id="recipientMessageMobileDialog" aura:id="recipientMessageMobileDialog" class="slds-hide esign-z-index-for-pop-up-window">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container esign-mobile-modal-container">
                        <div class="slds-modal__header esign-mobile-modal-header">
                            <h2 class="slds-float--left slds-text-heading--medium">
                                {! $Label.echosign_dev1.Agreement_Editor_Recipient_Message_Header }
                            </h2>
                            <span onclick="{! c.closeRecipientMessageDialog }" class="slds-icon__container slds-icon-utility-check slds-float--right">
                                <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                            </span>
                        </div>
                        <div class="slds-modal__content esign-mobile-modal-content">
                            <div class="slds-form-element">
                                <div class="slds-form-element__control">
                                    <ui:inputTextArea aura:id="recipientMessageFromMobile" label="" class="slds-textarea" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Message_Placeholder }" rows="5"/>
                                </div>
                            </div>
                            <div class="esign-password-identification-button">
                                <button onclick="{!c.closeRecipientMessageDialog}" class="slds-button slds-button--neutral esign-identification-back-button">{! $Label.echosign_dev1.Cancel_Button_Label }</button>
                                <button onclick="{!c.onSetRecipientMessage}" class="slds-button slds-button--neutral slds-button--brand esign-identification-ok-button">{! $Label.echosign_dev1.Save_Button_Label }</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Code for opening recipient message modal for mobile ends here. -->
            <div id="cancelAgreementDialog" aura:id="cancelAgreementDialog" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open esign-modal-small">
                    <div class="esign-mobile-modal-container slds-modal__container">
                        <div class="slds-modal__header esign-mobile-modal-header">
                            <h2 class="{! if( v.isMobile , 'slds-float--left', '')  + ' slds-text-heading--medium ' }">{! $Label.echosign_dev1.Agreement_Editor_Cancel_Agreement_Header }</h2>
                            <button onclick="{! c.closeCancelAgreementDialog }" class="{! if( v.isMobile , 'slds-float--right', 'slds-modal__close')  + ' slds-button' }">
                                <echosign_dev1:svgIcon class="slds-button__icon slds-button__icon--inverse slds-button__icon--large esign-icon-markup esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#close'}"  category="action" size="small" name="close" />
                                <span class="slds-assistive-text"></span>
                            </button>
                        </div>
                        <div class="slds-modal__content esign-mobile-modal-content">
                            <div class="slds-form--stacked">
                                <div class="slds-form-element">
                                    <div class="slds-form-element__control">
                                        <ui:inputTextArea aura:id="cancelAgreementReason" label="" class="slds-textarea" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Optional_Reason_Placeholder }" rows="5"/>
                                    </div>
                                </div>
                                <div class="slds-form-element">
                                    <lightning:input type="checkbox" label="{! $Label.echosign_dev1.Agreement_Editor_Notify_Signer_Label }" aura:id="cancelAgreementNotifySigner" />
                                </div>
                            </div>
                        </div>
                        <div class="slds-modal__footer">
                            <button onclick="{!c.cancelAgreement}" class="slds-button slds-button--neutral slds-button--brand slds-float--left">{! $Label.echosign_dev1.OK_Button_Label }</button>
                            <button onclick="{!c.closeCancelAgreementDialog}" class="slds-button slds-button--neutral slds-button--brand slds-float--right">{! $Label.echosign_dev1.Cancel_Button_Label }</button>
                        </div>
                    </div>
                </div>
                <div class="slds-modal-backdrop slds-modal-backdrop--open"></div>
            </div> 
            
            <!-- cancelAgreementDialog ends and deleteAgreementDialog start ********************************************************************************************************************************************** -->
            
            <div id="deleteAgreementDialog" aura:id="deleteAgreementDialog" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open esign-modal-small">
                    <div class="esign-mobile-modal-container slds-modal__container">
                        <div class="slds-modal__header esign-mobile-modal-header">
                            <h2 class="{! if( v.isMobile , 'slds-float--left', '')  + ' slds-text-heading--medium' }">{! $Label.echosign_dev1.Agreement_Editor_Delete_Agreement_Header }</h2>
                            <button onclick="{! c.closeDeleteAgreementDialog }" class="{! if( v.isMobile , 'slds-float--right', 'slds-modal__close')  + ' slds-button'}">
                                <echosign_dev1:svgIcon class="slds-button__icon slds-button__icon--inverse slds-button__icon--large esign-icon-markup esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#close'}" category="action" size="small" name="close" />
                                <span class="slds-assistive-text"></span>
                            </button>
                        </div>
                        <aura:if isTrue="{! !v.agreementWrapper.isFinalStatus }">
                            <div class="slds-modal__content esign-mobile-modal-content">
                                <div class="slds-form--stacked">
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control">
                                            <ui:inputTextArea aura:id="deleteAgreementReason" label="" class="slds-textarea" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Optional_Reason_Placeholder }" rows="5"/>
                                        </div>
                                    </div>
                                    <div class="slds-form-element">
                                        <lightning:input type="checkbox" label="{! $Label.echosign_dev1.Agreement_Editor_Notify_Signer_Label }" aura:id="deleteAgreementNotifySigner" />
                                    </div>
                                </div>
                            </div>
                        </aura:if>
                        <div class="slds-modal__footer">
                            <button onclick="{!c.deleteAgreement}" class="slds-button slds-button--neutral slds-button--brand slds-float--left">{! $Label.echosign_dev1.OK_Button_Label }</button>
                            <button onclick="{!c.closeDeleteAgreementDialog}" class="slds-button slds-button--neutral slds-button--brand slds-float--right">{! $Label.echosign_dev1.Cancel_Button_Label }</button>
                        </div>
                    </div>
                </div>
                <div class="slds-modal-backdrop slds-modal-backdrop--open"></div>
            </div>
            
            <!-- deleteAgreementDialog end and recipientVerificationDialog start ********************************************************************************************************************************************** -->
            
            <div id="recipientVerificationDialog" aura:id="recipientVerificationDialog" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-align--absolute-center slds-fade-in-open">
                    <div class="slds-modal__container esign-modal-width">
                        <div class="slds-modal__header">
                            <h2 class="slds-text-heading--medium">{! $Label.echosign_dev1.Agreement_Editor_Identity_Verification_Header }</h2>
                            <button onclick="{! c.closeRecipientVerificationDialog }" class="slds-button slds-modal__close">
                                <echosign_dev1:svgIcon class="slds-button__icon slds-button__icon--inverse slds-button__icon--large esign-icon-markup" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#close'}" category="action" size="small" name="close" />
                                <span class="slds-assistive-text"></span>
                            </button>
                        </div>
                        <div class="slds-modal__content esign-large-p-bottom">
                            <div class="slds-form--stacked">
                                <div class="slds-form-element">
                                    <div id="recipientVerificationPanel" aria-expanded="true" class="slds-picklist">
                                        <button id="recipientVerificationTypeButton" onclick="{!c.toggleRecipientVerificationSelection}" class="esign-menu-dialog slds-button slds-button--neutral slds-picklist__label" aria-haspopup="true">
                                            <span class="slds-truncate">{! v.selectedRecipientWrapper.tempSignerVerificationLabel }</span>
                                            <aura:if isTrue="{! !v.isSent }">
                                                <echosign_dev1:svgIcon class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                            </aura:if>
                                        </button>
                                                            <div id="recipientVerificationDropdown" aura:id="recipientVerificationDropdown" class="esign-menu-dialog slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                            <ul class="slds-dropdown__list" role="menu">
                                                <aura:if isTrue="{! v.selectedRecipientWrapper.tempSignerVerification != 'Email' }">
                                                    <li id="menu-0-0" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.onRecipientEmailVerificationSelection}" data-order="{! v.selectedRecipientWrapper.index }" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Email_Label }</a></li>
                                                </aura:if>
                                                <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Password__c, v.selectedRecipientWrapper.tempSignerVerification != 'Password') }">
                                                    <li id="menu-1-1" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onRecipientPasswordVerificationSelection}" data-order="{! v.selectedRecipientWrapper.index }" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Password_Label }</a></li>
                                                </aura:if>
                                                <aura:if isTrue="{! and( v.settingsWrapper.isNaShard, and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Knowledge_Based_Authentication__c, v.selectedRecipientWrapper.tempSignerVerification != 'KBA') ) }">
                                                    <li id="menu-2-2" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onRecipientKbaVerificationSelection}" data-order="{! v.selectedRecipientWrapper.index }" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_KBA_Label }</a></li>
                                                </aura:if>
                                                <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Web_Identity__c, v.selectedRecipientWrapper.tempSignerVerification != 'Social') }">
                                                    <li id="menu-2-2" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onRecipientSocialVerificationSelection}" data-order="{! v.selectedRecipientWrapper.index }" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Social_Label }</a></li>
                                                </aura:if>
                                                <aura:if isTrue="{! and(v.settingsWrapper.customSettings.echosign_dev1__Enable_Phone_Authentication__c, v.selectedRecipientWrapper.tempSignerVerification != 'Phone') }">
                                                    <li id="menu-2-2" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onRecipientPhoneVerificationSelection}" data-order="{! v.selectedRecipientWrapper.index }" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Phone_Label }</a></li>
                                                </aura:if>
                                            </ul>
                                        </div>
                                    </div>
                                </div> 
                                <aura:if isTrue="{! v.selectedRecipientWrapper.tempSignerVerification == 'Password' }">
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control">
                                            <ui:inputSecret disabled="{! v.isSent }" aura:id="recipientVerificationPasswordInput" change="{!c.setRecipientSignPasswordProcess}" class="slds-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Password_Placeholder }" value="{! v.recipientPassword }" />
                                        </div>
                                    </div>
                                    <aura:if isTrue="{! !isSent }">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control">
                                                <ui:inputSecret disabled="{! v.isSent }" aura:id="recipientVerificationPasswordInputConfirm" change="{!c.setRecipientSignPasswordProcess}" class="slds-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Confirm_Password_Placeholder }" value="{! v.recipientConfirmPassword }" />
                                            </div>
                                        </div>
                                    </aura:if>
                                    <aura:if isTrue="{! v.isSignPasswordError }">
                                        <div id="signPasswordErrorPanel" class="esign-field-error slds-popover slds-popover--tooltip slds-nubbin--top" role="tooltip">  
                                            <div class="slds-popover__body">
                                                <div>
                                                    <p>{! v.signPasswordError }</p>
                                                </div>
                                            </div>
                                        </div>
                                    </aura:if>
                                </aura:if>
                                <aura:if isTrue="{! v.selectedRecipientWrapper.tempSignerVerification == 'Phone' }">
                                    <div class="slds-form-element">
                                        <div id="recipientVerificationCountry" aria-expanded="true" class="slds-picklist">
                                            <button id="recipientVerificationCountryButton" onclick="{!c.toggleRecipientVerificationCountry}" class="esign-menu-dialog slds-button slds-button--neutral slds-picklist__label" aria-haspopup="true">
                                                <span class="slds-truncate">{!v.selectedRecipientWrapper.countryCodeLabel}</span>
                                                <aura:if isTrue="{! !v.isSent }">
                                                    <echosign_dev1:svgIcon class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                </aura:if>
                                            </button>
                                                                <div id="recipientVerificationCountryDropdown" aura:id="recipientVerificationCountryDropdown" class="esign-menu-dialog slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                <ul class="slds-dropdown__list" role="menu">
                                                    <aura:iteration items="{!v.schemaWrapper.recipientCountryCodes}" var="selectOptionWrapper">
                                                        <li id="menu-0-0" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{! c.onSelectRecipientCountryCode }" data-order="{! selectOptionWrapper.value }" tabindex="-1" class="slds-truncate">{! selectOptionWrapper.label }</a></li>
                                                    </aura:iteration>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-form-element">
                                        <ui:inputPhone aura:id="recipientVerificationPhone" class="slds-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Phone_Number_Placeholder }" value="{! v.selectedRecipientWrapper.recipient.echosign_dev1__Phone_Verification_Phone_Number__c }" />
                                    </div>
                                </aura:if>
                            </div>
                        </div>
                        <div class="slds-modal__footer">
                            <button disabled="{! v.storeRecipientVerificationDisabled }" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.storeRecipientVerification}" class="slds-button slds-button--neutral slds-button--brand">{! $Label.echosign_dev1.OK_Button_Label }</button>
                        </div>
                    </div>
                </div>
                <div class="slds-modal-backdrop slds-modal-backdrop--open"></div>
            </div>   
            
            <!-- recipient verification Mobile Modal starts-->
            <div id="recipientVerificationMobileDialog" aura:id="recipientVerificationMobileDialog" class="slds-hide">
                <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open esign-modal-small">
                    <div class="slds-modal__container esign-mobile-modal-container">
                        <div class="slds-modal__header esign-mobile-modal-header">
                            <h2 class="slds-float--left slds-text-heading--medium">{! $Label.echosign_dev1.Agreement_Editor_Identity_Verification_Header }</h2>
                            <span onclick="{! c.closeRecipientVerificationDialog }" class="slds-icon__container slds-icon-utility-check slds-float--right">
                                 <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                            </span>
                        </div>
                        <div class="slds-modal__content esign-large-p-bottom esign-mobile-modal-content">
                            <div id="recipientVerificationOptions" aura:id="recipientVerificationOptions" aria-expanded="true" class="slds-form-element slds-show">
                                <ul class="slds-list--vertical slds-has-dividers--top">
                                    <li  id="menu-0-0" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.onRecipientEmailVerificationSelectionFromMobile}" class="slds-has-divider--bottom esign-mobile-verification-padding" role="menuitem option" tabindex="0">
                                        <a tabindex="-1" class="slds-truncate" style="color: #54698d;">
                                            {! $Label.echosign_dev1.Agreement_Editor_Identity_Email_Label }
                                            <aura:if isTrue="{! v.selectedRecipientWrapper.tempSignerVerification == 'Email' }">
                                                <span class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                    <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#check'}" category="utility" size="small" name="check" />
                                                </span> 
                                            </aura:if>
                                        </a>
                                    </li>
                                    <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Password__c }">
                                    <li  id="menu-1-1" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.onRecipientPasswordVerificationSelectionFromMobile}" class="slds-has-divider--bottom esign-mobile-verification-padding" role="menuitem option" tabindex="-1">
                                        <a tabindex="-1" class="slds-truncate" style="color: #54698d;">
                                            {! $Label.echosign_dev1.Agreement_Editor_Identity_Password_Label }
                                            <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Password__c, v.selectedRecipientWrapper.tempSignerVerification == 'Password') }">
                                                <span class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                    <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#check'}" category="utility" size="small" name="check" />
                                                </span> 
                                            </aura:if>
                                        </a>
                                    </li>
                                    </aura:if>
                                    <aura:if isTrue="{! and(v.settingsWrapper.isNaShard, !v.settingsWrapper.customSettings.echosign_dev1__Disable_Knowledge_Based_Authentication__c) }">
                                    <li  id="menu-2-2" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.onRecipientKbaVerificationSelectionFromMobile}" class="slds-has-divider--bottom esign-mobile-verification-padding" role="menuitem option" tabindex="-1">
                                        <a tabindex="-1" class="slds-truncate" style="color: #54698d;">
                                            {! $Label.echosign_dev1.Agreement_Editor_Identity_KBA_Label }
                                            <aura:if isTrue="{! and( v.settingsWrapper.isNaShard, and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Knowledge_Based_Authentication__c, v.selectedRecipientWrapper.tempSignerVerification == 'KBA') ) }">
                                                <span class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                    <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#check'}" category="utility" size="small" name="check" />
                                                </span> 
                                            </aura:if>
                                        </a>
                                    </li>
                                    </aura:if>
                                    <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Web_Identity__c }">
                                    <li  id="menu-2-2" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.onRecipientSocialVerificationSelectionFromMobile}" class="slds-has-divider--bottom esign-mobile-verification-padding" role="menuitem option" tabindex="-1">
                                        <a tabindex="-1" class="slds-truncate" style="color: #54698d;">
                                            {! $Label.echosign_dev1.Agreement_Editor_Identity_Social_Label }
                                            <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Web_Identity__c, v.selectedRecipientWrapper.tempSignerVerification == 'Social') }">
                                                <span class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                    <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#check'}" category="utility" size="small" name="check" />
                                                </span> 
                                            </aura:if>
                                        </a>
                                    </li>
                                    </aura:if>
                                    <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Phone_Authentication__c }">
                                    <li  id="menu-2-2" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.onRecipientPhoneVerificationSelectionFromMobile}" class="slds-has-divider--bottom esign-mobile-verification-padding" role="menuitem option" tabindex="-1">
                                        <a tabindex="-1" class="slds-truncate" style="color: #54698d;">
                                            {! $Label.echosign_dev1.Agreement_Editor_Identity_Phone_Label }
                                            <aura:if isTrue="{! and(v.settingsWrapper.customSettings.echosign_dev1__Enable_Phone_Authentication__c, v.selectedRecipientWrapper.tempSignerVerification == 'Phone') }">
                                                <span class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                    <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#check'}" category="utility" size="small" name="check" />
                                                </span> 
                                            </aura:if>
                                        </a>
                                    </li>
                                    </aura:if>
                                </ul>
                            </div>         
                            <!-- Will be visilbe only in mobile-->
                            <div id="verificationPasswordInputForm" aura:id="verificationPasswordInputForm" aria-expanded="true" class="slds-form-element slds-hide">
                                <aura:if isTrue="{! v.selectedRecipientWrapper.tempSignerVerification == 'Password' }">
                                    <div class="slds-form-element">
                                        {! $Label.echosign_dev1.Agreement_Editor_Identity_Password_Label }
                                    </div>
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control slds-m-right--x-small">
                                            <ui:inputSecret disabled="{! v.isSent }" aura:id="recipientVerificationPasswordInputMobile" change="{!c.setRecipientSignPasswordProcess}" class="slds-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Password_Placeholder }" value="{! v.recipientPassword }" />
                                        </div>
                                    </div>
                                    <aura:if isTrue="{! !isSent }">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control slds-m-right--x-small">
                                                <ui:inputSecret disabled="{! v.isSent }" aura:id="recipientVerificationPasswordInputConfirmMobie" change="{!c.setRecipientSignPasswordProcess}" class="slds-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Confirm_Password_Placeholder }" value="{! v.recipientConfirmPassword }" />
                                            </div>
                                        </div>
                                    </aura:if>
                                    <aura:if isTrue="{! v.isSignPasswordError }">
                                        <div id="signPasswordErrorPanel" class="esign-field-error slds-popover slds-popover--tooltip slds-nubbin--top" role="tooltip">  
                                            <div class="slds-popover__body">
                                                <div>
                                                    <p>{! v.signPasswordError }</p>
                                                </div>
                                            </div>
                                        </div>
                                    </aura:if>
                                    <div class="esign-password-identification-button">
                                        <button onclick="{!c.displayRecipientVerificationOptions}" class="slds-button slds-button--neutral esign-identification-back-button">{! $Label.echosign_dev1.Back_Button_Label }</button>
                                        <button disabled="{! v.storeRecipientVerificationDisabled }" data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.storeRecipientVerificationFromMobile}" class="slds-button slds-button--neutral slds-button--brand esign-identification-ok-button">{! $Label.echosign_dev1.OK_Button_Label }</button>
                                    </div>
                                </aura:if>
                            </div>
                            <div id="verificationPhoneInputForm" aura:id="verificationPhoneInputForm" class="slds-hide">
                                <aura:if isTrue="{! v.selectedRecipientWrapper.tempSignerVerification == 'Phone' }">
                                    <div class="slds-form-element">
                                        <div id="recipientVerificationCountry" aria-expanded="true" class="slds-picklist">
                                            <button id="recipientVerificationCountryButton" onclick="{!c.toggleRecipientVerificationCountryFromMobile}" class="esign-menu-dialog slds-button slds-button--neutral slds-picklist__label" aria-haspopup="true">
                                                <span class="slds-truncate">{!v.selectedRecipientWrapper.countryCodeLabel}</span>
                                                <aura:if isTrue="{! !v.isSent }">
                                                    <echosign_dev1:svgIcon class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                </aura:if>
                                            </button>
                                            <div id="recipientVerificationCountryDropdownMobile" aura:id="recipientVerificationCountryDropdownMobile" class="esign-menu-dialog slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                <ul class="slds-dropdown__list" role="menu">
                                                    <aura:iteration items="{!v.schemaWrapper.recipientCountryCodes}" var="selectOptionWrapper">
                                                        <li id="menu-0-0" data-order="{! v.selectedRecipientWrapper.index }" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{! c.onSelectRecipientCountryCode }" data-order="{! selectOptionWrapper.value }" tabindex="-1" class="slds-truncate">{! selectOptionWrapper.label }</a></li>
                                                    </aura:iteration>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slds-form-element">
                                        <ui:inputPhone aura:id="recipientVerificationPhoneFromMobile" class="slds-input" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Phone_Number_Placeholder }" value="{! v.selectedRecipientWrapper.recipient.echosign_dev1__Phone_Verification_Phone_Number__c }" />
                                    </div>
                                    <div class="esign-password-identification-button">
                                        <button onclick="{!c.displayRecipientVerificationOptions}" class="slds-button slds-button--neutral esign-identification-back-button">{! $Label.echosign_dev1.Back_Button_Label }</button>
                                        <button disabled="{! v.storeRecipientVerificationDisabled }"  data-order="{! v.selectedRecipientWrapper.index }" onclick="{!c.storeRecipientVerificationFromMobile}" class="slds-button slds-button--neutral slds-button--brand esign-identification-ok-button">{! $Label.echosign_dev1.OK_Button_Label }</button>
                                    </div>
                                </aura:if>
                            </div>
                        </div>     
                    </div>
                </div>
                <div class="slds-modal-backdrop slds-modal-backdrop--open"></div>
            </div> 
            
            <!-- recipient verification mobile modal ends here-->
            
            <!-- recipientVerificationDialog start ********************************************************************************************************************************************** -->
            
            <aura:if isTrue="{! v.isShowAddDocumentsDialog }">
                <div id="addDocumentsDialog" class="slds-show">
                    <echosign_dev1:DocumentSelector settingsWrapper="{!v.settingsWrapper}"/>
                </div>
            </aura:if>         
            <aura:if isTrue="{! v.isShowAddTemplatesDialog }">
                <div id="addTemplatesDialog" class="slds-show">
                    <echosign_dev1:FormFieldTemplateSelector />
                </div>
            </aura:if>
            
            <aura:if isTrue="{! v.isLoading }">
                <div class="slds-grid slds-grid--align-center slds-m-vertical--xx-large">
                    <div class="slds-spinner--large slds-m-vertical--xx-large">
                        <img class="slds-m-vertical--xx-large" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/images/spinners/slds_spinner_brand.gif'}" alt="" />
                    </div>
                </div>
            </aura:if>
            
            <aura:if isTrue="{! !v.isLoading }">
                
                <!-- Header start ********************************************************************************************************************************************** -->
                
                <div id="page-header-sticky-div" aura:id="page-header-sticky-div">
                    <div class="slds-page-header esign-page-header-padding">
                        <div class="slds-grid  slds-grid--align-left">
                            <div class="slds-col--padded">
                                <div class="slds-media slds-tile">
                                    <div class="slds-media__figure">
                                        <span class="slds-avatar slds-avatar--small">
                                            <img src="{!$Resource.echosign_dev1__EchoSignTabLogo}" alt="" />
                                        </span>
                                    </div>
                                    <div class="slds-media__body">
                                        <ul class="tile__detail slds-list--horizontal slds-has-dividers">
                                            <li class="slds-truncate slds-text-body--small slds-list__item">{! $Label.echosign_dev1.Agreement_Editor_Agreement_Header }</li>
                                        </ul>
                                        <p class="tile__title slds-truncate esign-title-width">
                                        <li class="{! if( v.isMobile , 'slds-truncate_container--75', '')  + ' slds-list__item slds-m-right--large slds-grid ' }">
                                            <span class="slds-truncate">
                                            {!v.agreementName}
                                            </span>
                                            <span class="slds-m-left--xx-small slds-no-flex slds-badge slds-m-left--medium">{!v.agreementStatus}</span>
                                        </li>
                                        </p>
                                    </div>
                                    <div class="slds-button-group slds-show--large esign-top-buttons" role="group">
                                        <aura:if isTrue="{! !v.isSent }">
                                            <aura:if isTrue="{! and(v.agreementWrapper.agreement.Id != null, v.settingsWrapper.toolbarSettings.echosign_dev1__Save_Agreement__c ) }">
                                                <button onclick="{!c.saveAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Save_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! and(v.agreementWrapper.agreement.Id == null, v.settingsWrapper.toolbarSettings.echosign_dev1__Save_Agreement__c ) }">
                                                <button onclick="{!c.saveAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Save_Draft_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! and(v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Draft__c, v.agreementWrapper.agreement.Id != null) }">
                                                <button onclick="{!c.deleteAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Draft_Button_Label }</button>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{! v.agreementWrapper.isAuthoringSubmittedStatus }">
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c }">
                                                <button onclick="{!c.updateAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Update_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                                <button onclick="{!c.viewAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                                <button id="inAuthoringActionsInput" onclick="{!c.toggleInAuthoringActions}" class="slds-button slds-button--icon-border-filled">
                                                    <echosign_dev1:svgIcon otherClasses="esign-button-group-down-icon" class="slds-button__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                                <div id="inAuthoringActionsDropdown" aura:id="inAuthoringActionsDropdown" class="slds-lookup__menu esign-button-group-menu slds-hide" role="listbox">
                                                    <ul class="slds-lookup__list" role="presentation">
                                                        <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.toggleDeleteAgreementDialog}" class="esign-button-group-menu-item" role="option">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                    </ul>
                                                </div>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{! v.agreementWrapper.isInFlightStatus }">
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Host_Send_Agreement__c }">
                                                <button onclick="{!c.hostAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Host_Signing_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Send_Reminder__c }">
                                                <button onclick="{!c.sendReminder}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Remind_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! or(v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Agreement__c, v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c, v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c, v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c) }">
                                                <button id="inProgressActionsInput" aura:id="inProgressActionsInput" onclick="{!c.toggleInProgressActions}" class="slds-button slds-button--icon-border-filled">
                                                    <echosign_dev1:svgIcon otherClasses="esign-button-group-down-icon" class="slds-button__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                                <div id="inProgressActionsDropdown" aura:id="inProgressActionsDropdown" class="slds-lookup__menu slds-hide" role="listbox">
                                                    <ul class="slds-lookup__list" role="presentation">
                                                        <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.updateAgreement}" class="esign-button-group-menu-item" role="option">{! $Label.echosign_dev1.Agreement_Editor_Update_Button_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.viewAgreement}" class="esign-button-group-menu-item" role="option">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.toggleDeleteAgreementDialog}" class="esign-button-group-menu-item" role="option">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Agreement__c }">
                                                            <li class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.toggleCancelAgreementDialog}" class="esign-button-group-menu-item" role="option">{! $Label.echosign_dev1.Agreement_Editor_Cancel_Button_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                    </ul>
                                                </div>
                                            </aura:if>
                                        </aura:if>
                                        <aura:if isTrue="{! v.agreementWrapper.isFinalStatus }">
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                                <button onclick="{!c.viewAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                                            </aura:if>
                                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                                <button onclick="{!c.toggleDeleteAgreementDialog}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                                            </aura:if>
                                        </aura:if>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Header end ********************************************************************************************************************************************** -->
                
                
                
                
                <!-- Error start ********************************************************************************************************************************************** -->
                
                <aura:if isTrue="{! v.errorMessage != null }">
                    <div class="slds-grid slds-m-top--large">
                        <div class="slds-notify slds-notify--alert slds-theme--error slds-theme--inverse-text slds-theme--alert-texture slds-size--1-of-1" role="alert">
                            <span class="slds-assistive-text"></span>
                            <h2><div class="slds-size--1-of-1" style="word-wrap: break-word;">{! v.errorMessage }</div></h2>
                            <button onclick="{!c.dismissAlert}" class="slds-button slds-button--icon-inverse slds-notify__closes" style="margin-left: 48%; position: absolute; padding-bottom: 3px;">
                                <img src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" class="slds-button__icon" />
                                <span class="slds-assistive-text"></span>
                            </button>
                        </div>
                    </div>
                </aura:if>
                
                <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__ErrorMessage__c != null }">
                    <div class="slds-grid slds-m-top--large">
                        <div class="slds-notify slds-notify--alert slds-theme--error slds-theme--inverse-text slds-theme--alert-texture slds-size--1-of-1" role="alert">
                            <span class="slds-assistive-text"></span>
                            <button onclick="{!c.dismissErrorMessage}" class="slds-button slds-button--icon-inverse slds-notify__close" style="margin-left: 48%; position: absolute; padding-bottom: 3px;">
                                <img src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" class="slds-button__icon" />
                                <span class="slds-assistive-text"></span>
                            </button>
                            <h2><div class="slds-size--1-of-1" style="word-wrap: break-word;">{! v.agreementWrapper.agreement.echosign_dev1__ErrorMessage__c }</div></h2>
                        </div>
                    </div>
                </aura:if>
                
                <!-- Error end ********************************************************************************************************************************************** -->
                
                
                
                <!-- SingerOrder start ********************************************************************************************************************************************** -->
                
                <div class="slds-grid slds-grid--align-left slds-m-top--large">
                    <div class="slds-col">
                        <div class="slds-form--inline">                 
                            <aura:if isTrue="{! v.isNoRecipientsError }">
                                <div id="noRecipientsErrorPanel" class="esign-field-error slds-popover slds-popover--tooltip slds-nubbin--bottom" role="tooltip">  
                                    <div class="slds-popover__body">
                                        <div>
                                            <p>{! $Label.echosign_dev1.Agreement_Editor_No_Recipient_Error }</p>
                                        </div>
                                    </div>
                                </div>
                            </aura:if>
                            <div class="slds-form-element">
                                <div class="slds-text-heading--medium">
                                    {! $Label.echosign_dev1.Agreement_Editor_Recipients_Header }
                                </div>
                            </div>
                            <div class="slds-form-element">
                                <aura:if isTrue="{! or( v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Signing_Order_Field__c, v.settingsWrapper.customSettings.echosign_dev1__Enable_Sender_Signs_Only__c ) }">
                                    <div data-order="signOrderTooltip" onclick="" onmouseover="" onmouseout="" id="signOrder" aria-expanded="true" class="slds-picklist">
                                        <button id="signOrderButton" aura:id="signOrderButton" onclick="{!c.toggleSignOrder}" class="slds-button slds-button--neutral slds-picklist__label esign-width-fit" aria-haspopup="true">
                                            <span class="slds-truncate">{! v.agreementSignOrderLabel }</span>
                                            <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient_Signing_Order_Field__c) }">
                                                <echosign_dev1:svgIcon class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                            </aura:if>
                                        </button>
                                        <div id="signOrderDropdown" aura:id="signOrderDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--medium slds-dropdown--menu slds-hide">
                                            <ul class="slds-dropdown__list" role="menu">
                                                <aura:if isTrue="{! v.agreementSignOrder != 'Sign in Order' }">
                                                    <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.selectSignInOrder}" tabindex="-1" class="slds-truncate" >{! $Label.echosign_dev1.Agreement_Editor_Sign_In_Order_Label }</a></li>
                                                </aura:if>
                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Signing_Order_Field__c }">
                                                    <aura:if isTrue="{! v.agreementSignOrder != 'Sign in Any Order' }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.selectSignInAnyOrder}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Sign_In_Any_Order_Label }</a></li>
                                                    </aura:if>
                                                </aura:if>
                                                <aura:if isTrue="{! and( v.agreementSignOrder != 'Only I Sign', v.settingsWrapper.customSettings.echosign_dev1__Enable_Sender_Signs_Only__c ) }">	
                                                    <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.selectOnlyISign}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Only_I_Sign_Order_Label }</a></li>	
                                                </aura:if>
                                                <!-- <aura:if isTrue="{! and( v.agreementSignOrder != 'Fill &amp; Sign', v.settingsWrapper.customSettings.echosign_dev1__Enable_Fill_Sign__c ) }">
                                                    <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.selectFillSign}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Fill_Sign_Order_Label }</a></li>
                                                </aura:if> -->
                                            </ul>
                                        </div>
                                    </div>
                                    <div id="signOrderTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-left slds-hide" role="tooltip">  
                                        <div class="slds-popover__body">
                                            <div>
                                                <p>{! $Label.echosign_dev1.Agreement_Editor_Signature_Flow_Tooltip }</p>
                                            </div>
                                        </div>
                                    </div>  
                                </aura:if>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- SingerOrder end ********************************************************************************************************************************************** -->
                
                <!-- Recipient Row start ********************************************************************************************************************************************** -->
                <div class="slds-grid slds-grid--align-left slds-m-top--x-small slds-no-wrap">
                    <div class="slds-p-bottom--x-large slds-size--1-of-1">  
                        <aura:if isTrue="{! and( v.agreementSignOrder != 'Fill &amp; Sign', and( v.agreementSignOrder != 'Only I Sign', or( and(v.agreementSenderSigns, v.agreementWrapper.agreementSenderSigns == 'Sign First'), and(v.agreementSenderSigns, v.agreementSignOrder == 'Sign in Any Order') ) ) ) }">
                            <ul id="iSignRecipientFirst" aura:id="iSignRecipientFirst" class="{! if( v.isMobile , 'slds-has-dividers--top slds-has-dividers--bottom ', ' slds-has-cards ')  + ' slds-list--vertical ' }">
                                <li class="slds-list__item slds-theme_shade slds-m-bottom--x-small esign-recipient-padding esign-recipient-row-background">
                                    <div class="slds-form--inline esign-flex-container esign-recipient-row">
                                        <div class="slds-form-element esign-flex-no-shrink">
                                            <div class="{! if( v.isMobile , ' ', ' esign-recipient-sender ')  + ' slds-form-element__control ' }">
                                                <div aria-expanded="true" class="slds-picklist">
                                                    <button class="esign-input-readonly-lighter esign-picklist-button slds-button slds-button--neutral esign-role-section1" aria-haspopup="true">
                                                        <img class="esign-role-type-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe/signer_normal.png'}" alt="" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-form-element esign-flex-shrink">
                                            <div class="slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                <div class="esign-rec-lookup-size esign-flex-shrink">
                                                    <div class="esign-input-readonly-lighter slds-grid esign-lookup-section slds-form-element__control">
                                                        <div class="slds-dropdown-trigger slds-align-middle esign-recipient-type-input esign-role-type-display-icon">
                                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                            <button class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                <span class="slds-assistive-text"></span>
                                                            </button>
                                                        </div>
                                                        <button onclick="{!c.navToMyself}" class="{! if( v.isMobile , 'slds-truncate_container--75 ', '')  + ' slds-button esign-recipient-value esign-flex-shrink ' }"><div class="slds-truncate shrink" style="text-align: left">{! $Label.echosign_dev1.Agreement_Editor_Myself_Label + ' (' + v.agreementWrapper.contextUserName + ')' }</div></button>
                                                        <input disabled="disabled" class="slds-input--bare slds-show--large esign-flex-shrink" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="">
                                                        </input>                                                            
                                                    </div>
                                                    <div class="slds-pill-container slds-hide"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-form-element esign-wide-email  slds-show--large esign-flex-no-shrink">
                                            <input id="email" class="esign-input-readonly slds-input" type="email" placeholder="" value="{! v.agreementWrapper.contextUserEmail }" readonly="readonly" />
                                        </div>
                                        <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c,v.agreementSignOrder != 'Sign in Any Order') }">
                                            <div class="slds-form-element esign-flex-no-shrink">
                                                <div id="senderSignsPicklist" aria-expanded="true" class="slds-picklist">
                                                    <button id="senderSignsButton" onclick="{!c.toggleSenderSigns}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.Read_Only_Recipient_Signing_Order_Field__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-size--1-of-1 slds-button slds-button--neutral slds-picklist__label esign-lookup-section' }" aria-haspopup="true">
                                                        <span class="slds-truncate">{!v.agreementWrapper.agreementSenderSignsLabel}</span>
                                                        <aura:if isTrue="{! !v.isSent }">
                                                            <echosign_dev1:svgIcon otherClasses="esign-tiny-picklist-icon" class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                        </aura:if>
                                                    </button>
                                                    <div id="senderSignsDropdown" aura:id="senderSignsDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                        <ul id="senderSignsDropdownList" class="slds-dropdown__list" role="menu">
                                                            <aura:iteration items="{!v.schemaWrapper.agreementSenderSignsOptions}" var="selectOptionWrapper">
                                                                <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.selectSenderSignsOrder}" data-order="{!selectOptionWrapper.value}" tabindex="-1" class="slds-truncate">{!selectOptionWrapper.label}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{! !v.isSent }">
                                            <div class="slds-form-element slds-m-top--small esign-flex-no-shrink">
                                                <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c }">
                                                    <button onclick="{! c.deleteSenderSigns }" class="slds-button slds-button--icon-bare esign-recipient-delete-button">
                                                        <img class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" />
                                                        <span class="slds-assistive-text"></span>
                                                    </button>
                                                </aura:if>
                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c }">
                                                    <img class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility/lock_60.png'}" alt="" />
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                        
                                    </div>
                                </li>
                            </ul>
                        </aura:if>
                        
                        <!-- ######################################################################################################################################################################## -->                     
                        <ul id="sortableRecipients" aura:id="sortableRecipients" class="{! if( v.isMobile , 'slds-has-dividers--top slds-has-dividers--bottom ', ' slds-has-cards')  + ' slds-list--vertical' }">
                            <aura:iteration items="{! v.recipientWrappers }" var="recipientWrapper">
                                <li id="{! 'recipientRowItem' + recipientWrapper.index }" 
                                    data-order="{! recipientWrapper.index }" 
                                    class="{! 'slds-list__item slds-theme_shade slds-m-bottom--x-small esign-recipient-padding  esign-recipient-row-background' + if( recipientWrapper.isHybridMember, ' esign-hybrid-recipient-row', '') + if( recipientWrapper.isHybridLastMember, ' esign-hybrid-recipient-last', '') + if( recipientWrapper.isHybridFirstMember, ' esign-hybrid-recipient-first', '') + if( and(recipientWrapper.isHybridMember, and(!recipientWrapper.isHybridFirstMember, !recipientWrapper.isHybridLastMember)), ' esign-hybrid-recipient-between', '') }">
                                    
                                    <div class="slds-form--inline esign-flex-container esign-recipient-row">
                                        <aura:if isTrue="{! v.agreementSignOrder != 'Sign in Order' }">
                                            <div class="slds-form-element esign-recipient-row"/>
                                        </aura:if>
                                        
                                        <aura:if isTrue="{! and( and(v.agreementSignOrder != 'Sign in Any Order', v.agreementSignOrder != 'Only I Sign'), !v.settingsWrapper.customSettings.echosign_dev1__Disable_Sort_Recipients__c ) }">
                                            
                                            <!-- Grabber Icon *************************** -->
                                            <aura:if isTrue="{! !v.isSent }">
                                                <span class="esign-grabber-section-inline">
                                                <div class="slds-form-element esign-grabber-elem esign-flex-no-shrink">
                                                    <span class="slds-avatar slds-avatar--x-small slds-p-top--xx-small">
                                                        <img src="{!$Resource.echosign_dev1__GrabberIcon}" alt="" />
                                                    </span>
                                                </div>
                                                </span>
                                            </aura:if>
                                            
                                            <aura:if isTrue="{! v.isSent }">
                                                <div class="slds-form-element"/>
                                            </aura:if>
                                            
                                            <!-- Recipient Order *************************** -->
                                            <div class="slds-form-element esign-flex-no-shrink esign-recipient-order-width">
                                                <div class="slds-form-element__control">
                                                    <input id="recipientOrder" onchange="{!c.reorderRecipient}" onblur="{!c.reorderRecipient}" data-order="{! recipientWrapper.index }" value="{! recipientWrapper.recipient.echosign_dev1__Order_Number__c }" class="{! if( v.isSent, 'esign-input-readonly-lighter ', '' ) + 'slds-input esign-recipient-order-section-inline' }" style="padding-right: 0px;" type="number" placeholder="" />
                                                </div>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{!v.agreementSignOrder != 'Only I Sign'}">
                                            <div class="esign-role-section1 slds-form-element">
                                                <div data-order="{! recipientWrapper.index }" class="slds-form-element__control">
                                                    <div id="recipientRole" aura:id="recipientRoleButton" data-order="{! recipientWrapper.index }" aria-expanded="true" class="slds-picklist">
                                                        <button id="{! 'recipientRoleButton' + recipientWrapper.index }" data-order="{! recipientWrapper.index }" onclick="{!c.toggleRecipientRole}" class="{! if( v.isSent, 'esign-input-readonly-lighter ', '' ) + 'esign-role-section1 esign-picklist-button slds-button slds-button--neutral' }" aria-haspopup="true">
                                                            <aura:if isTrue="{! or( recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Signer', recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == '' ) }">
                                                                <!-- <img id="{! 'recipientRoleSigner' + recipientWrapper.index }" data-order="{! recipientWrapper.index }" class="esign-role-type-icon" src="/resource/echosign_dev1__SLDS/SLDS/assets/icons/adobe/signer_normal.png" alt="drag to reorder" /> -->
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Signer.svg#Page-1'}"  category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Approver' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/AdobeSign_Approver.svg#Page-1'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Acceptor' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Acceptor.svg#Page-1'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Form Filler' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Form_Filler.svg#Page-1'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Certified Recipient' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Certified_recipient.svg#Page-1'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Delegate to Signer' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToSigner.svg#icon'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Delegate to Approver' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToApprover.svg#icon'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Delegate to Acceptor' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToAcceptor.svg#icon'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Delegate to Form Filler' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToFormFiller.svg#icon'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == 'Delegate to Certified Recipient' }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-role-type-display-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToCertifiedRecipient.svg#icon'}" category="adobe" size="small"/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! !v.isSent }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                            </aura:if>
                                                        </button>
                                                         <!-- Recipient Role Dropdown *************************** -->
                                                        <div id="{! 'recipientRoleDropdown' + recipientWrapper.index }" aura:id="recipientRoleDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--large slds-dropdown--menu slds-hide">
                                                            <ul class="slds-dropdown__list" role="menu">
                                                                <li id="menu-0-0" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Signer_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }">
                                                                    <a id="s01" onclick="{!c.onSelectSignerRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Signer.svg#Page-1'}" category="adobe" size="small"/>
                                                                        {! $Label.echosign_dev1.Agreement_Editor_Signer_Role_Label }
                                                                    </a>
                                                                </li>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Approver_Role__c }">
                                                                    <li id="menu-1-1" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Approver_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }">
                                                                        <a id="s02" onclick="{!c.onSelectApproverRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/AdobeSign_Approver.svg#Page-1'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Approver_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Acceptor_Workflow_Role__c }">
                                                                    <li id="menu-1-1" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Acceptor_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectAcceptorRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Acceptor.svg#Page-1'}" category="adobe" size="small" />
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Acceptor_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_FormFiller_Workflow_Role__c }">
                                                                    <li id="menu-1-1" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Form_Filler_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectFormFillerRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Form_Filler.svg#Page-1'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Form_Filler_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Certified_Recipient_Workflow_Role__c }">
                                                                    <li id="menu-1-1" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Certified_Recipient_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectCertifiedRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Certified_recipient.svg#Page-1'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Certified_Recipient_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Delegate_Signer_Role__c }">
                                                                    <li id="menu-2-2" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Signer_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }">
                                                                        <a id="s01" onclick="{!c.onSelectDelegateSignerRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToSigner.svg#icon'}"  category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Delegate_Signer_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Delegate_Approver_Role__c }">
                                                                    <li id="menu-3-3" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Approver_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectDelegateApproverRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToApprover.svg#icon'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Delegate_Approver_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Delegate_Acceptor_Workflow_Role__c }">
                                                                    <li id="menu-3-3" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Acceptor_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectDelegateAcceptorRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToAcceptor.svg#icon'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Delegate_Acceptor_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Delegate_FormFiller_Workflow_Role__c }">
                                                                    <li id="menu-3-3" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Form_Filler_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectDelegateFormFillerRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToFormFiller.svg#icon'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Delegate_Form_Filler_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Delegate_CR_Workflow_Role__c }">
                                                                    <li id="menu-3-3" class = "{!recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Certified_Recipient_Role_Label ? 'slds-dropdown__item role-highlight': 'slds-dropdown__item'}" role="menuitem option" data-order="{! recipientWrapper.index }" >
                                                                        <a id="s02" onclick="{!c.onSelectDelegateCertifiedRecipientRole}" data-order="{! recipientWrapper.index }" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToCertifiedRecipient.svg#icon'}" category="adobe" size="small"/>
                                                                            {! $Label.echosign_dev1.Agreement_Editor_Delegate_Certified_Recipient_Role_Label }
                                                                        </a>
                                                                    </li>
                                                                </aura:if>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>     
                                        </aura:if>
                                        
                                        <!-- Recipient Input Lookup type *************************** --> 
                                        <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Email' }"> 
                                            <div class="slds-form-element esign-flex-shrink">
                                                <div class="slds-form-element__control esign-rec-lookup-size">
                                                    <div class="slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                        <div class="">
                                                            <div id="{! 'recipientLookupInputPanel' + recipientWrapper.index }" dataOrder="{! recipientWrapper.index }" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-grid slds-form-element__control  esign-lookup-section' }">
                                                                <div id="recipientTypeInput" onclick="{!c.toggleRecipientType}" data-order="{! recipientWrapper.index }" class="{! if( and( !recipientWrapper.isRecipientSet, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c), 'esign-recipient-type-button-margin ', '') + ' slds-dropdown-trigger slds-align-middle esign-recipient-type-input esign-flex-no-shrink'}">
                                                                    
                                                                    <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Contact' }">
                                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Lead' }">
                                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'User' }">
                                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Group' }">
                                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#groups'}" category="standard" size="small" name="groups" />
                                                                    </aura:if>
                                                                    
                                                                    <button id="{! 'recipientTypeButton' + recipientWrapper.index }" aura:id="recipientTypeButton" dataOrder="{! recipientWrapper.index }" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                        <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ) }">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                                        </aura:if>
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                                <aura:if isTrue="{! !recipientWrapper.isRecipientSet }">
                                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ) }">
                                                                        <input id="{! 'recipientInputLookup' + recipientWrapper.index }" aura:id="recipientInputLookup" class="slds-input--bare esign-flex-shrink esign-desktop-tablet-element" placeholder="{! if( !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, recipientWrapper.searchRecipientWrapper, '' ) }" />
                                                                        <button data-order="{! recipientWrapper.index }" id="{! 'recipientLookupButtonOnMobile' + recipientWrapper.index }" aura:id="recipientLookupButtonOnMobile" onclick="{! c.openRecipientLookUpModalForMobile}" class="slds-button slds-button--icon-bare esign-mobile-element esign-recipient-lookup-margin" >
                                                                            {! if( !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, recipientWrapper.searchRecipientWrapper, '' ) }
                                                                        </button>     
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ) }">
                                                                        <input id="recipientInputLookup" aura:id="recipientInputLookup" class="slds-input--bare esign-flex-shrink" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="" readonly="readonly" placeholder="{! if( !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, recipientWrapper.searchRecipientWrapper, '' ) }" />
                                                                    </aura:if>
                                                                </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.isRecipientSet }">
                                                                    <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Group' }">
                                                                        <button data-order="{! recipientWrapper.index }" onclick="{!c.navToRecipient}" class="slds-button esign-recipient-value esign-flex-shrink">
                                                                            <div class="slds-truncate shrink" style="text-align: left">{! recipientWrapper.name } </div>
                                                                        </button>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Group' }">
                                                                        <button data-order="{! recipientWrapper.index }" onclick="{!c.navToRecipient}" class="slds-button esign-recipient-value esign-flex-shrink slds-truncate_container_66 esign-recipient-name-email-button">
                                                                            <div class="slds-truncate shrink" style="text-align: left">{! recipientWrapper.name } </div>
                                                                            <div class="slds-truncate shrink esign-recipient-email-visibility-with-name" style="text-align:left">{! recipientWrapper.email }</div>
                                                                        </button>
                                                                    </aura:if>
                                                                    <input aura:id="recipientInputLookup" disabled="disabled" class="slds-input--bare slds-show--large esign-flex-shrink" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="">
                                                                    </input>
                                                                </aura:if>
                                                                <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c) }">
                                                                    <div class="slds-p-right--medium slds-p-top--x-small esign-flex-no-shrink slds-medium-show">
                                                                        <aura:if isTrue="{! !recipientWrapper.isRecipientSet }">
                                                                            <button onclick="{!c.searchRecipient}" data-order="{! recipientWrapper.index }" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                                <span class="slds-assistive-text"></span>
                                                                            </button>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{! and( recipientWrapper.isRecipientSet, v.agreementSignOrder != 'Only I Sign' ) }">
                                                                            <button id="{! recipientWrapper.index }" onclick="{!c.selectUnsetRecipient}" data-order="{! recipientWrapper.index }" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                                                <span class="slds-assistive-text"></span>
                                                                            </button>
                                                                        </aura:if>
                                                                    </div>
                                                                </aura:if>
                                                            </div>
                                                            <div class="slds-pill-container slds-hide"></div>
                                                        </div>
                                                        
                                                        <div id="{! 'recipientTypeDropdown' + recipientWrapper.index }" aura:id="recipientTypeDropdown" class="slds-lookup__menu esign-menu-align-left slds-hide" role="listbox">
                                                            <ul class="slds-lookup__list" role="presentation">
                                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contact_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Contact' ) }">
                                                                    <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                        <a id="s01" onclick="{!c.onSelectContactRecipientType}" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                                            {! $Label.echosign_dev1.Contact_Recipient_Label }</a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Lead_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Lead' ) }">
                                                                    <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                        <a id="s01" onclick="{!c.onSelectLeadRecipientType}" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                                            {! $Label.echosign_dev1.Lead_Recipient_Label }</a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_User_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'User' ) }">
                                                                    <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                        <a id="s01" onclick="{!c.onSelectUserRecipientType}" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                                            {! $Label.echosign_dev1.User_Recipient_Label }</a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Group_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Group' ) }">
                                                                    <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                        <a id="s01" onclick="{!c.onSelectGroupRecipientType}" role="option">
                                                                            <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#groups'}" category="standard" size="small" name="groups" />
                                                                            {! $Label.echosign_dev1.Group_Recipient_Label }</a>
                                                                    </li>
                                                                </aura:if>
                                                                <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Email_Recipient_Type__c }">
                                                                    <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                        <a id="s01" onclick="{!c.onSelectEmailRecipientType}" role="option">
                                                                            <!-- <c:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon- -small" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#email" category="action" size="small" name="email" /> -->
                                                                            <img dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon--small esign-email-background" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_60.png'}" alt=""/>
                                                                            {! $Label.echosign_dev1.Email_Recipient_Label }</a>
                                                                    </li>
                                                                </aura:if>
                                                            </ul>
                                                        </div>
                                                        
                                                        <div id="{! 'recipientSearchResults' + recipientWrapper.index }" aura:id="recipientSearchResults" class="slds-lookup__menu esign-menu-align-left slds-hide esign-search-rec-panel" role="listbox">
                                                            <ul data-order="{! recipientWrapper.index }" id="recipientSearchResultsList" class="slds-lookup__list" role="presentation">                                                            
                                                                <li class="slds-lookup__item" >
                                                                    <div>
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                        <span class="esign-search-results-label">"{! v.searchTerm }" 
                                                                            {! if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Contact',
                                                                            $Label.echosign_dev1.Agreement_Editor_Contacts_Search_Term, 
                                                                            if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Lead',
                                                                            $Label.echosign_dev1.Agreement_Editor_Leads_Search_Term, 
                                                                            if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'User',
                                                                            $Label.echosign_dev1.Agreement_Editor_Users_Search_Term, 
                                                                            if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Group',
                                                                            $Label.echosign_dev1.Agreement_Editor_Groups_Search_Term, '' ) ) ) )
                                                                            }
                                                                        </span>
                                                                    </div>
                                                                </li>
                                                                <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                    <li class="slds-lookup__item" ><a onclick="{!c.selectRecipientSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name} <div class="esign-contact-lookup"> {! searchItemWrapper.email}</div> </a></li>
                                                                </aura:iteration>
                                                            </ul>
                                                        </div> 
                                                    </div>
                                                </div> 
                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Group' }">
                                                    <div class="slds-form-element__control slds-float--right esign-recipient-row-inline">
                                                        <aura:if isTrue="{! or( or( v.agreementWrapper.agreement.echosign_dev1__SignatureType__c == 'e-Signature', !recipientWrapper.isRecipientSet), v.isSent ) }">
                                                            <input id="email" class="esign-input-readonly slds-input esign-email--margin esign-text-center-align esign-input-extend esign-recipient-row-inline" type="email" placeholder="" value="{! recipientWrapper.email == null || recipientWrapper.email == '' ? $Label.echosign_dev1.Agreement_Editor_Email_Fax_Label : recipientWrapper.email }" readonly="readonly" />
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( and( v.agreementWrapper.agreement.echosign_dev1__SignatureType__c == 'Written Signature', recipientWrapper.isRecipientSet), !v.isSent ) }">
                                                            <input id="email" class="esign-input-readonly slds-input esign-email--margin esign-recipient-row-inline" type="email" placeholder="" value="{! recipientWrapper.email == null || recipientWrapper.email == '' ? $Label.echosign_dev1.Agreement_Editor_Email_Fax_Label : recipientWrapper.email }" readonly="readonly" />
                                                        </aura:if>
                                                    </div>
                                                </aura:if>           
                                            </div>
                                            
                                        </aura:if>
                                        
                                        <!-- Recipient Input Email type *************************** -->
                                        <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Email' }">
                                            <div class="slds-form-element esign-flex-shrink esign-force-left">
                                                <div id="emailRecipientPanel" class="slds-form-element__control esign-rec-lookup-size">
                                                    <div id="recipientTypeInput" aura:id="recipientTypeInput" onclick="{!c.toggleRecipientType}" data-order="{! recipientWrapper.index }" class="esign-recipient-email-type">
                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#email'}" category="standard" size="small" name="email" />
                                                        
                                                        <button id="{! 'recipientTypeButton' + recipientWrapper.index }" aura:id="recipientTypeButton" dataOrder="{! recipientWrapper.index }" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                            <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ) }">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                            </aura:if>
                                                            <span class="slds-assistive-text"></span>
                                                        </button>
                                                    </div>
                                                    
                                                    <input type="email" onkeyup="{! c.setRecipientEmail }" disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, v.isSent ) }" data-order="{! recipientWrapper.index }" id="{! 'recipientEmailInput' + recipientWrapper.index }" aura:id="{! 'recipientEmailInput' + recipientWrapper.index }" value="{! recipientWrapper.email }" class="{! 'esign-flex-shrink slds-input esign-recipient-email-input esign-recipient-email-size esign-regular-border-color esign-lookup-section recipientInputEmailValue' + if( or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, v.isSent ), ' esign-input-readonly-lighter', '' ) }" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Email_Address_Placeholder }" />
                                                    <div aura:id="recipientInputLookup"/>
                                                    <div aura:id="recipientSearchResults"/>
                                                </div>
                                                
                                                <div id="{! 'recipientTypeDropdown' + recipientWrapper.index }" aura:id="recipientTypeDropdown" class="slds-lookup__menu esign-menu-align-left esign-menu-narrow slds-hide" role="listbox">
                                                    <ul class="slds-lookup__list" role="presentation">
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contact_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Contact' ) }">
                                                            <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectContactRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                                    {! $Label.echosign_dev1.Contact_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Lead_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Lead' ) }">
                                                            <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectLeadRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                                    {! $Label.echosign_dev1.Lead_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_User_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'User' ) }">
                                                            <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectUserRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                                    {! $Label.echosign_dev1.User_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( !v.settingsWrapper.customSettings.echosign_dev1__Disable_Group_Recipient_Type__c, recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Group' ) }">
                                                            <li data-order="{! recipientWrapper.index }" class="slds-lookup__item">
                                                                <a id="s01" onclick="{!c.onSelectGroupRecipientType}" role="option">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#groups'}" category="standard" size="small" name="groups" />
                                                                    {! $Label.echosign_dev1.Group_Recipient_Label }</a>
                                                            </li>
                                                        </aura:if>
                                                    </ul>
                                                </div>                 
                                            </div> 
                                        </aura:if>
                                        <!-- Mobile Changes start -->
                                        <div data-order="{! recipientWrapper.index }"  class="slds-form-element slds-float--right">
                                            <!-- Replacing less important actions with threedots icon for small screen-->
                                            <aura:if isTrue="{! !v.isSent }">
                                                <button class="slds-form-element slds-button esign-recipient-feature-button" data-order="{! recipientWrapper.index }"  onclick="{!c.selectCollapsedRecipientFeatures}">
                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon--small" otherClasses="esign-recipient-feature-icon slds-float-right" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#threedots'}" category="utility" size="small" name="threedots" />
                                                </button>
                                            </aura:if>
                                        </div>
                                        <!-- Replacing less important actions with threedots icon for small screen end here -->
                                        
                                        <!-- Opening Recipient Lookup Modal for Mobile starts here-->
                                        <div id="{! 'recipientLookUpMobileDialog' + recipientWrapper.index }" data-order="{! recipientWrapper.index }" aura:id="recipientLookUpMobileDialog" class="slds-hide ">
                                            <div aria-hidden="false" role="dialog" data-order="{! recipientWrapper.index }" class="slds-modal slds-fade-in-open">
                                                <div data-order="{! recipientWrapper.index }" class="slds-modal__container esign-mobile-modal-container" data-select="multi" data-scope="multi" data-typeahead="false">
                                                    <div data-order="{! recipientWrapper.index }" class="slds-modal__header esign-mobile-modal-header">
                                                        <h2 data-order="{! recipientWrapper.index }" class="slds-float--left slds-text-heading--medium">
                                                            <span onclick="{! c.showRecipientTypeFromMobile}" >
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Contact' }">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                                </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Lead' }">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                                </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'User' }">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                                </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Group' }">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#groups'}" category="standard" size="small" name="groups" />
                                                                </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Email' }">
                                                                    <img dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon--small esign-email-background" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_60.png'}" alt=""/>
                                                                </aura:if>
                                                                <button id="{! 'recipientTypeButtonMobile' + recipientWrapper.index }" aura:id="recipientTypeButtonMobile" data-order="{! recipientWrapper.index }" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ) }">
                                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                                    </aura:if>
                                                                    <span class="slds-assistive-text"></span>
                                                                </button>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Contact' }"> <span class="esign-signed-document-link" >  {! $Label.echosign_dev1.Contact_Recipient_Label } </span></aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Lead' }">  <span class="esign-signed-document-link" > {! $Label.echosign_dev1.Lead_Recipient_Label } </span></aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'User' }"> <span class="esign-signed-document-link" > {! $Label.echosign_dev1.User_Recipient_Label }  </span> </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Group' }"> <span class="esign-signed-document-link" > {! $Label.echosign_dev1.Group_Recipient_Label } </span> </aura:if>
                                                                <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Email' }"> <span class="esign-signed-document-link" > {! $Label.echosign_dev1.Email_Recipient_Label } </span></aura:if>
                                                            </span>
                                                            
                                                        </h2>
                                                        <span data-order="{! recipientWrapper.index }" onclick="{! c.closeContactModalForMobile }" class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                            <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                        </span>
                                                    </div>
                                                    <div data-order="{! recipientWrapper.index }" class="slds-modal__content esign-mobile-modal-content">
                                                        <div data-order="{! recipientWrapper.index }" class="slds-form-element__control slds-has-divider--bottom">
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Email'}">
                                                                <ui:inputText aura:id="recipientInputLookupOnMobile" class="slds-input--bare esign-flex-shrink" placeholder="{! if( !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, recipientWrapper.searchRecipientWrapper, '' ) }" />
                                                                <button onclick="{!c.searchRecipientFromMobile}" data-order="{! recipientWrapper.index }" class="slds-button slds-icon-utility-search slds-float--right">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                </button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Email'}">
                                                                    <ui:inputEmail disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, v.isSent ) }" aura:id="{! 'recipientEmailInputOnMobile' + recipientWrapper.index }" value="{! recipientWrapper.email }" class="{! 'esign-flex-shrink slds-m-bottom--x-small slds-m-top--x-small esign-recipient-email-size esign-regular-border-color esign-lookup-section' + if( or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c, v.isSent ), ' esign-input-readonly-lighter', '' ) }" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Email_Address_Placeholder }" />
                                                                    <button onclick="{!c.closeContactModalForMobile}" class="slds-button slds-button--neutral slds-button--brand slds-float--right">{! $Label.echosign_dev1.OK_Button_Label }</button>
                                                            </aura:if>
                                                        </div>
                                                        <div id="{! 'recipientSearchResultsOnMobile' + recipientWrapper.index }" data-order="{! recipientWrapper.index }" aura:id="recipientSearchResultsOnMobile" class="slds-hide">
                                                            <ul data-order="{! recipientWrapper.index }" class="slds-list--vertical slds-has-dividers--top">                                                            
                                                                <li class="slds-has-divider--bottom esign-mobile-verification-padding" >
                                                                    <div>
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                        <span class="esign-search-results-label">"{! v.searchTerm }" 
                                                                            {! if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Contact',
                                                                            $Label.echosign_dev1.Agreement_Editor_Contacts_Search_Term, 
                                                                            if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Lead',
                                                                            $Label.echosign_dev1.Agreement_Editor_Leads_Search_Term, 
                                                                            if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'User',
                                                                            $Label.echosign_dev1.Agreement_Editor_Users_Search_Term, 
                                                                            if( recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == 'Group',
                                                                            $Label.echosign_dev1.Agreement_Editor_Groups_Search_Term, '' ) ) ) )
                                                                            }
                                                                        </span>
                                                                    </div>
                                                                </li>
                                                                <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                    <li onclick="{!c.selectRecipientSearchResultFromMobile}" data-order="{!searchItemWrapper.recordId}" role="menuitem option" class="slds-has-divider--bottom esign-mobile-verification-padding" >{!searchItemWrapper.name} <div class="esign-contact-lookup"> {! searchItemWrapper.email}</div></li>
                                                                </aura:iteration>
                                                            </ul>
                                                        </div>  
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Recipient Lookup Modal for Mobile Ends Here-->
                                        <!-- Code for opening modal for selecting recipient type starts here.-->
                                        <div id="{! 'recipientTypeSelectorMobileDialog' + recipientWrapper.index }" data-order="{! recipientWrapper.index }" aura:id="recipientTypeSelectorMobileDialog" class="slds-hide">
                                            <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                                                <div class="slds-modal__container esign-mobile-modal-container">
                                                    <div data-order="{! recipientWrapper.index }" class="slds-modal__content esign-mobile-modal-picker-content" onclick="{! c.closeRecipientTypeFromMobile}">
                                                    </div>
                                                    <div class="esign-mobile-modal-picker-footer slds-docked-form-footer slds-scrollable">
                                                        <ul class="slds-list--vertical slds-has-dividers--top esign-width-fit slds-align-middle">
                                                            <aura:if isTrue="{!  !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contact_Recipient_Type__c }">
                                                                <li id="s01" data-order="{! recipientWrapper.index }" onclick="{!c.onSelectContactRecipientTypeFromMobile}" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Contact_Recipient_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contact'}" category="standard" size="small" name="contact" />
                                                                    {! $Label.echosign_dev1.Contact_Recipient_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Lead_Recipient_Type__c  }">
                                                                <li id="s01" data-order="{! recipientWrapper.index }" onclick="{!c.onSelectLeadRecipientTypeFromMobile}" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Lead_Recipient_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#lead'}" category="standard" size="small" name="lead" />
                                                                    {! $Label.echosign_dev1.Lead_Recipient_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_User_Recipient_Type__c }">
                                                                <li id="s01" onclick="{!c.onSelectUserRecipientTypeFromMobile}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.User_Recipient_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                                    {! $Label.echosign_dev1.User_Recipient_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Group_Recipient_Type__c }">
                                                                <li id="s01" onclick="{!c.onSelectGroupRecipientTypeFromMobile}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Group_Recipient_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon--small slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#groups'}" category="standard" size="small" name="groups" />
                                                                    {! $Label.echosign_dev1.Group_Recipient_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Email_Recipient_Type__c }">
                                                                <li id="s01" onclick="{!c.onSelectEmailRecipientTypeFromMobile}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Type__c == $Label.echosign_dev1.Email_Recipient_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <!-- <c:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon-text-default slds-icon- -small" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#email" category="action" size="small" name="email" /> -->
                                                                    <img dataOrder="{! recipientWrapper.index }" class="slds-icon slds-icon--small esign-email-background slds-m-right--x-small" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_60.png'}" alt=""/>
                                                                    {! $Label.echosign_dev1.Email_Recipient_Label }
                                                                </li>
                                                            </aura:if>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Code for opening modal for selecting Recipient Type ends here.-->
                                        <!-- Code for opening modal for selecting Recipient Role starts here.-->
                                        <div id="{! 'recipientRoleMobileDialog' + recipientWrapper.index }" aura:id="recipientRoleMobileDialog" class="slds-hide esign-z-index-for-pop-up-window">
                                            <div aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open">
                                                <div class="slds-modal__container esign-mobile-modal-container">
                                                    <div data-order="{! recipientWrapper.index }" class="slds-modal__content esign-mobile-modal-picker-content" onclick="{! c.setBackgroundPosition}">
                                                    </div>
                                                    <div class="esign-mobile-modal-picker-footer slds-docked-form-footer slds-scrollable">
                                                        <ul class="slds-dropdown__list esign-width-fit" role="menu">
                                                            <li id="s01" onclick="{!c.onSelectSignerRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Signer_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Signer.svg#Page-1'}" category="adobe" size="small"/>
                                                                {! $Label.echosign_dev1.Agreement_Editor_Signer_Role_Label }
                                                            </li>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Approver_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectApproverRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Approver_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/AdobeSign_Approver.svg#Page-1'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Approver_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Acceptor_Workflow_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectAcceptorRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Acceptor_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Acceptor.svg#Page-1'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Acceptor_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_FormFiller_Workflow_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectFormFillerRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Form_Filler_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Form_Filler.svg#Page-1'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Form_Filler_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Certified_Recipient_Workflow_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectCertifiedRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Certified_Recipient_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/Certified_recipient.svg#Page-1'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Certified_Recipient_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Delegate_Signer_Role__c }">
                                                                <li id="s01" onclick="{!c.onSelectDelegateSignerRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Signer_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToSigner.svg#icon'}"  category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Delegate_Signer_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Delegate_Approver_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectDelegateApproverRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Approver_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToApprover.svg#icon'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Delegate_Approver_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Delegate_Acceptor_Workflow_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectDelegateAcceptorRole}" data-order="{! recipientWrapper.index }"  class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Acceptor_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToAcceptor.svg#icon'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Delegate_Acceptor_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Delegate_FormFiller_Workflow_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectDelegateFormFillerRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Form_Filler_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToFormFiller.svg#icon'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Delegate_Form_Filler_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Delegate_CR_Workflow_Role__c }">
                                                                <li id="s02" onclick="{!c.onSelectDelegateCertifiedRecipientRole}" data-order="{! recipientWrapper.index }" class="{! if((recipientWrapper.recipient.echosign_dev1__Recipient_Role__c == $Label.echosign_dev1.Agreement_Editor_Delegate_Certified_Recipient_Role_Label), 'role-highlight ', '') + 'slds-has-divider--bottom  esign-recipient-type-picker-padding esign-recipient-row'}">
                                                                    <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" class="slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe-sprite/svg/A12_DelegateToCertifiedRecipient.svg#icon'}" category="adobe" size="small"/>
                                                                    {! $Label.echosign_dev1.Agreement_Editor_Delegate_Certified_Recipient_Role_Label }
                                                                </li>
                                                            </aura:if>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Code for opening modal for selecting Recipient Role Ends here.-->
                                        <!-- Mobile Changes end -->
                                        <!-- Recipient Identification *************************** -->
                                        <aura:if isTrue="{! and(v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Security_Options__c, v.agreementSignOrder != 'Only I Sign')  }">
                                            <div class="slds-form-element esign-recipient-security-input esign-recipient-row-margin-right esign-identity-margin esign-flex-no-shrink">
                                                <div data-order="{! recipientWrapper.index }" onclick="{! c.openRecipientVerificationDialog }" class="slds-form-element__control esign-email--margin">
                                                    <img data-order="{! recipientWrapper.index }" class="esign-lds-invert-icon esign-input-icon slds-medium-show" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/custom/custom76_120.png'}" alt="" />
                                                    <input data-order="{! recipientWrapper.index }" readonly="readonly" id="recipientVerification" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Recipient__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-p-left--xx-large  esign-input-extend esign-text-center-align esign-recipient-security-input-max slds-medium-show' }" style="padding-right: 0px;" type="text" placeholder="" 
                                                           value="{! recipientWrapper.recipient.echosign_dev1__Signer_Verification_Method__c == null || recipientWrapper.recipient.echosign_dev1__Signer_Verification_Method__c == '' ? $Label.echosign_dev1.Agreement_Editor_Identity_Email_Label : recipientWrapper.tempSignerVerificationLabel }">
                                                    </input>
                                                </div>
                                            </div>
                                        </aura:if>
                                        
                                        <!-- Recipient Message *************************** -->
                                        <aura:if isTrue="{! v.agreementSignOrder != 'Only I Sign' }">  
                                            <div data-order="{! recipientWrapper.index }" class="slds-form-element esign-flex-no-shrink slds-p-around--x-small esign-message-margin esign-desktop-tablet-element">     
                                                <button data-order="{! recipientWrapper.index }" onclick="{!c.onOpenRecipientMessage}"  class="slds-button slds-button--icon-bare">
                                                    <img data-order="{! recipientWrapper.index }" class="esign-invert-icon" src="{! if( or(recipientWrapper.recipient.echosign_dev1__Recipient_Message__c == null, recipientWrapper.recipient.echosign_dev1__Recipient_Message__c == ''),  $Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/adobe/message_normal@2x.png', $Resource.echosign_dev1__SLDS+'/SLDS/assets/icons/adobe/message_active@2x.png' ) }" alt="" />
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                            </div>
                                            <!-- <div id="recipientMessageTooltip" class="esign-tooltip slds-popover slds-popover- -tooltip slds-nubbin- -top-right" role="tooltip">  
                                                <div class="slds-popover__body">
                                                    <div>
                                                        <p>{! $Label.echosign_dev1.Recipient_Message_Tooltip }</p>
                                                    </div>
                                                </div>
                                            </div> -->
                                        </aura:if>
                                        
                                        <!-- Recipient Delete row button *************************** -->
                                        <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Disable_Delete_Recipient__c ) }">   
                                            <div onclick="{!c.deleteRecipient}" data-order="{! recipientWrapper.index }" class="slds-form-element  esign-p-top--x-small slds-medium-show" >
                                                <button data-order="{! recipientWrapper.index }" class="slds-button slds-button--icon-bare esign-recipient-delete-button slds-medium-show">
                                                    <img data-order="{! recipientWrapper.index }" class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" />
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                            </div>
                                        </aura:if>
                                        <!-- Recipient replace, check, forward icon *************************** -->
                                        <aura:if isTrue="{! v.isSent }">
                                            <aura:if isTrue="{! recipientWrapper.recipient.echosign_dev1__Status__c == 'Signed' 
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Approved' 
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Accepted' 
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Form-Filled' 
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Delivered'}">
                                                <div class="esign-right-center-icon slds-form-element slds-float--right slds-m-top--x-small  slds-p-top--x-small" >
                                                    <echosign_dev1:svgIcon otherClasses="esign-complete-signer-icon" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#check'}" category="utility" size="small" name="check" />
                                                </div>
                                            </aura:if>
                                            <aura:if isTrue="{! and( recipientWrapper.recipient.echosign_dev1__Status__c == 'Waiting for Signature' 
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Waiting for Approval'
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Waiting for Acceptance'
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Waiting for Form-Filling'
                                                             || recipientWrapper.recipient.echosign_dev1__Status__c == 'Waiting for Delivery', recipientWrapper.recipient.echosign_dev1__Recipient_Type__c != 'Group' ) }">
                                                <div class="esign-right-center-icon slds-form-element slds-float--right slds-m-top--small slds-p-top--x-small">
                                                    <echosign_dev1:svgIcon otherClasses="esign-current-signer-icon" class="slds-icon slds-icon-text-default" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#forward'}" category="utility" size="small" name="forward" />
                                                </div>
                                                <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Replace_Signer__c, !v.agreementWrapper.isTerminatedStatus) }">        
                                                    <div data-order="{! recipientWrapper.index }" onclick="{! c.toggleReplaceRecipientDialog }" class="esign-right-center-icon slds-form-element slds-float--right">
                                                        <echosign_dev1:svgIcon dataOrder="{! recipientWrapper.index }" otherClasses="esign-replace-signer-icon" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#leave_group'}" category="action" size="small" name="leave_group" />
                                                    </div>
                                                </aura:if>
                                            </aura:if>
                                        </aura:if>
                                    </div>
                                </li>
                            </aura:iteration>
                        </ul>
                        
                        <!-- ######################################################################################################################################################################## -->                       
                        
                        <aura:if isTrue="{! and( v.agreementSignOrder != 'Fill &amp; Sign', and( and( v.agreementSignOrder != 'Only I Sign', and(v.agreementSenderSigns, v.agreementWrapper.agreementSenderSigns == 'Sign Last') ), v.agreementSignOrder != 'Sign in Any Order') ) }">
                            <ul id="iSignRecipientLast" aura:id="iSignRecipientLast" class="{! if( v.isMobile , 'slds-has-dividers--top slds-has-dividers--bottom ', ' slds-has-cards ')  + ' slds-list--vertical ' }">
                                <li class="slds-list__item slds-theme_shade slds-m-bottom--x-small esign-recipient-padding esign-recipient-row-background">
                                    <div class="slds-form--inline esign-recipient-row esign-flex-container">
                                        <div class="slds-form-element esign-flex-no-shrink">
                                            <div class="{! if( v.isMobile , ' ', ' esign-recipient-sender ')  + ' slds-form-element__control ' }">
                                                <div aria-expanded="true" class="slds-picklist">
                                                    <button class="esign-input-readonly-lighter esign-picklist-button slds-button slds-button--neutral esign-role-section1" aria-haspopup="true">
                                                        <img class="esign-role-type-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/adobe/signer_normal.png'}" alt="drag to reorder" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-form-element esign-flex-shrink">
                                            <div class="slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                <div class="esign-rec-lookup-size esign-flex-shrink">
                                                    <div class="esign-input-readonly-lighter slds-grid esign-lookup-section slds-form-element__control">
                                                        <div class="slds-dropdown-trigger slds-align-middle esign-recipient-type-input esign-role-type-display-icon">
                                                            <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#user'}" category="standard" size="small" name="user" />
                                                            <button class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                <span class="slds-assistive-text"></span>
                                                            </button>
                                                        </div>
                                                        <button onclick="{!c.navToMyself}" class="{! if( v.isMobile , 'slds-truncate_container--75 ', '')  + ' slds-button esign-recipient-value esign-flex-shrink ' }"><div class="slds-truncate shrink" style="text-align: left">{! $Label.echosign_dev1.Agreement_Editor_Myself_Label + ' (' + v.agreementWrapper.contextUserName + ')' }</div></button>
                                                        <input disabled="disabled" class="slds-input--bare slds-show--large esign-flex-shrink" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="">
                                                        </input>                                                            
                                                    </div>
                                                    <div class="slds-pill-container slds-hide"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="slds-form-element esign-wide-email slds-show--large esign-flex-no-shrink">
                                            <input id="email" class="esign-input-readonly slds-input  slds-show--large" type="email" placeholder="" value="{! v.agreementWrapper.contextUserEmail }" readonly="readonly" />
                                        </div>
                                        <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c }">
                                            <div class="slds-form-element esign-flex-no-shrink">
                                                <div id="senderSignsPicklist" aria-expanded="true" class="slds-picklist">
                                                    <button id="senderSignsButton" onclick="{!c.toggleSenderSigns}" class="{! if( v.isMobile , ' ', ' slds-button--neutral ')  + ' slds-size--1-of-1 slds-button slds-picklist__label esign-lookup-section' }" aria-haspopup="true">
                                                        <span class="slds-truncate">{!v.agreementWrapper.agreementSenderSignsLabel}</span>
                                                        <aura:if isTrue="{! !v.isSent }">
                                                            <echosign_dev1:svgIcon otherClasses="esign-tiny-picklist-icon" class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                        </aura:if>
                                                    </button>
                                                    <div id="senderSignsDropdown" aura:id="senderSignsDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                        <ul id="senderSignsDropdownList" class="slds-dropdown__list" role="menu">
                                                            <aura:iteration items="{!v.schemaWrapper.agreementSenderSignsOptions}" var="selectOptionWrapper">
                                                                <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.selectSenderSignsOrder}" data-order="{!selectOptionWrapper.value}" tabindex="-1" class="slds-truncate">{!selectOptionWrapper.label}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{! !v.isSent }">
                                            <div class="slds-form-element slds-m-top--small esign-flex-no-shrink">
                                                <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c }">
                                                    <button onclick="{! c.deleteSenderSigns }" class="slds-button slds-button--icon-bare esign-recipient-delete-button">
                                                        <img class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" />
                                                        <span class="slds-assistive-text"></span>
                                                    </button>
                                                </aura:if>
                                                <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c }">
                                                    <img class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility/lock_60.png'}" alt="" />
                                                </aura:if>
                                            </div>
                                        </aura:if>
                                    </div>
                                    
                                </li>
                            </ul>
                        </aura:if>
                    </div>
                    
                </div>
                
                <!-- Recipient Row end ********************************************************************************************************************************************** -->
                
                
                <div class="slds-grid slds-grid--align-left slds-wrap esign-inverse-m-top">
                    
                    <!-- Recipient Row links start ********************************************************************************************************************************************** -->
                    
                    <aura:if isTrue="{! and( !v.isSent, v.agreementSignOrder != 'Fill &amp; Sign' ) }">
                        <div class="slds-col--padded esign-links-width slds-size--1-of-1 slds-medium-size--1-of-3 esign-checkbox-width">
                            <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Add_Recipient__c }">
                                <button onclick="{!c.addRecipient}" class="slds-button esign-recipient-button">{! $Label.echosign_dev1.Agreement_Editor_Add_Recipient_Label }</button>
                                <aura:if isTrue="{! v.agreementSignOrder != 'Only I Sign' }">
                                    |
                                    <button onclick="{!c.addRecipientMe}" class="slds-button  esign-add-me-button">{! $Label.echosign_dev1.Agreement_Editor_Add_Me_Label }</button>
                                </aura:if>
                            </aura:if>
                            <aura:if isTrue="{! and(and(!v.agreementWrapper.isCcSet,!v.settingsWrapper.customSettings.echosign_dev1__Disable_Cc__c),!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Cc__c) }">
                                <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Add_Recipient__c }">
                                    |
                                </aura:if>
                                <button onclick="{!c.addCc}" class="slds-button esign-add-cc-button">{! $Label.echosign_dev1.Agreement_Editor_Add_Cc_Label }</button>
                            </aura:if>
                        </div>
                    </aura:if>
                    
                    <!-- Recipient Row links ends ********************************************************************************************************************************************** -->
                    
                    <!-- Recipient Row checkbox start ********************************************************************************************************************************************** -->
                    
                    <aura:if isTrue="{! and( v.agreementSignOrder != 'Only I Sign', v.agreementSignOrder != 'Fill &amp; Sign' ) }">
                        <div class="slds-col--padded slds-m-top--x-small slds-size--1-of-1 slds-medium-size--2-of-3 esign-checkbox-width">
                            <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Hosted_Signing_Field__c }">
                                <div data-order="hostedTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element esign-desktop-tablet-element slds-float--right">
                                    <label class="slds-checkbox">
                                        <ui:inputCheckbox disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Hosted_Signing__c) }" value="{! v.agreementHosted }" />
                                        <!-- <input name="checkbox" type="checkbox" id="agreementHosted" checked="{! v.agreementHosted ? true : false }"/> -->
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label slds-m-left--small">{! $Label.echosign_dev1.Agreement_Editor_Host_Signing_Label }</span>
                                    </label>
                                </div>     
                                <div data-order="hostedTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element esign-mobile-element">
                                    <label class="slds-checkbox">
                                        <ui:inputCheckbox disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Hosted_Signing__c) }" value="{! v.agreementHosted }" />
                                        <!-- <input name="checkbox" type="checkbox" id="agreementHosted" checked="{! v.agreementHosted ? true : false }"/> -->
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label slds-m-left--small">{! $Label.echosign_dev1.Agreement_Editor_Host_Signing_Label }</span>
                                    </label>
                                </div>
                                <div id="hostedTooltip" class="esign-tooltip esign-tooltip-move-left slds-popover slds-popover--tooltip slds-nubbin--right-bottom slds-hide" role="tooltip">  
                                    <div class="slds-popover__body">
                                        <div>
                                            <p>{! $Label.echosign_dev1.Agreement_Editor_Hosted_Tooltip }</p>
                                        </div>
                                    </div>
                                </div>
                            </aura:if>
                            <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Sender_Signs__c }">
                                <div data-order="senderSignsTooltip" onclick="{! c.onSenderSignsClick }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element esign-desktop-tablet-element slds-float--right esign-i-sign-padding">
                                    
                                    <label class="slds-checkbox">
                                        <ui:inputCheckbox disabled="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c ) }" value="{! v.agreementSenderSigns }" />
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label slds-m-left--small">{! $Label.echosign_dev1.Agreement_Editor_I_Sign_Label }</span>
                                    </label>
                                </div>
                                <div data-order="senderSignsTooltip" onclick="{! c.onSenderSignsClick }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element esign-mobile-element esign-i-sign-padding">
                                    
                                    <label class="slds-checkbox">
                                        <ui:inputCheckbox disabled="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sender_Signs__c ) }" value="{! v.agreementSenderSigns }" />
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label slds-m-left--small">{! $Label.echosign_dev1.Agreement_Editor_I_Sign_Label }</span>
                                    </label>
                                </div>                                  
                                <!-- <div id="senderSignsTooltip" class="esign-tooltip esign-tooltip-move-left slds-popover slds-popover- -tooltip slds-nubbin- -right-bottom slds-hide" role="tooltip">  
                                        <div class="slds-popover__body">
                                            <div>
                                                <p>{! $Label.echosign_dev1.Agreement_Editor_Sender_Signs_Tooltip }</p>
                                            </div>
                                        </div>
                                    </div> -->
                            </aura:if>
                        </div>
                    </aura:if>
                </div>
                
                <!-- Recipient CC checkbox starts ********************************************************************************************************************************************** -->
                
                <aura:if isTrue="{! and(v.agreementWrapper.isCcSet,!v.settingsWrapper.customSettings.echosign_dev1__Disable_Cc__c) }">
                    <div class="slds-grid slds-grid--align-left slds-m-top--small slds-m-bottom--small">
                        <div class="slds-col">
                            <div data-order="ccTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element">
                                <div class="slds-text-heading--medium">{! $Label.echosign_dev1.Agreement_Editor_CC_Header }</div>
                                <div class="slds-form-element__control">
                                    <ui:inputText disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Cc__c, v.isSent ) }" aura:id="agreementCc" value="{!v.agreementCc}" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Cc__c, 'esign-input-readonly ', '' ) + 'slds-input esign-regular-border-color' }" placeholder="{! $Label.echosign_dev1.Agreement_Editor_CC_Placeholder }" />
                                </div>
                            </div>
                            <div id="ccTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                <div class="slds-popover__body">
                                    <div>
                                        <p>{! $Label.echosign_dev1.Agreement_Editor_Cc_Tooltip }</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </aura:if>
                
                <!-- Agreement level authentication starts ********************************************************************************************************************************************** -->
                <aura:if isTrue="{! v.agreementSignOrder != 'Fill &amp; Sign'}" >
                <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Enable_Separate_Signer_Identity_Methods__c, !v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Security_Options__c, v.agreementSignOrder != 'Only I Sign')  }">
                    <div class="slds-grid slds-grid--align-left slds-m-top--x-large esign-tab-margins">
                        <div class="slds-col">
                            <div class="slds-form">
                                <div class="slds-form-element">
                                    <div class="slds-text-heading--medium">
                                        {! $Label.echosign_dev1.Agreement_Editor_Identity_Verification_Header }
                                    </div>
                                </div>
                                <div class="slds-form--inline">
                                    <div class="slds-form-element">
                                        <div>
                                            <span class="slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Identity_All_Recipients_Label }</span>
                                        </div>
                                        <div id="agreementVerificationPanel" aria-expanded="true" class="slds-picklist">
                                            <button id="agreementVerificationInput" aura:id="agreementVerificationInput" onclick="{!c.toggleAgreementVerificationSelection}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c ), 'esign-input-readonly ', '' ) + 'esign-picklist-label-very-small slds-button slds-button--neutral slds-picklist__label' }" aria-haspopup="true">
                                                <span class="esign-picklist-small-value slds-truncate">{! v.agreementWrapper.agreementSignerVerificationMethodLabel }</span>
                                                <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }">
                                                    <echosign_dev1:svgIcon otherClasses="esign-picklist-small-expand" class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                </aura:if>
                                            </button>
                                            <div id="agreementVerificationDropdown" aura:id="agreementVerificationDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                <ul class="slds-dropdown__list" role="menu">
                                                    <aura:if isTrue="{! v.agreementWrapper.agreementSignerVerificationMethod != 'Email' }">
                                                        <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.onAgreementEmailVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Email_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Password__c, v.agreementWrapper.agreementSignerVerificationMethod != 'Password') }">
                                                        <li id="menu-1-1" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementPasswordVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Password_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and( v.settingsWrapper.isNaShard, and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Knowledge_Based_Authentication__c, v.agreementWrapper.agreementSignerVerificationMethod != 'KBA') ) }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementKbaVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_KBA_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Web_Identity__c, v.agreementWrapper.agreementSignerVerificationMethod != 'Social') }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementSocialVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Social_Label }</a></li>
                                                    </aura:if>
                                                </ul>
                                            </div>
                                        </div>
                                    </div> 
                                    <aura:if isTrue="{! v.agreementWrapper.agreementSignerVerificationMethod == 'Password' }">
                                        <div class="slds-form-element">
                                            <div class="{! if( v.isMobile , 'slds-m-top--x-small', 'slds-p-top--medium')  + ' slds-form-element__control'}">
                                                <ui:inputSecret disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }" change="{!c.setAgreementSignPassword}" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Password_Placeholder }" class="slds-input" value="{! v.signPassword }"/>
                                            </div>
                                        </div>
                                        <aura:if isTrue="{! !v.isSent }">
                                            <div class="slds-form-element">
                                                <div class="{! if( v.isMobile , 'slds-m-top--x-small', 'slds-p-top--medium')  + ' slds-form-element__control' }">
                                                    <ui:inputSecret disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }" change="{!c.setAgreementSignPassword}" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Confirm_Password_Placeholder }" class="slds-input" value="{! v.signPasswordConfirm }"/>
                                                </div>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{! v.isSignPasswordError }">
                                            <div id="signPasswordErrorPanel" class="slds-grid esign-field-error esign-password-error-align slds-popover slds-popover--tooltip slds-nubbin--top" role="tooltip">  
                                                <div class="slds-popover__body">
                                                    <div>
                                                        <p>{! v.signPasswordError }</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </aura:if>
                                    </aura:if>
                                </div>
                            </div>
                        </div>
                    </div>
                </aura:if>
                </aura:if>
                <!-- Recipient Row checkbox end ********************************************************************************************************************************************** -->
                
                <aura:if isTrue="{! and(v.settingsWrapper.customSettings.echosign_dev1__Enable_Separate_Signer_Identity_Methods__c, !v.settingsWrapper.customSettings.echosign_dev1__Enable_Recipient_Security_Options__c, v.agreementSignOrder != 'Only I Sign')  }">
                    <div class="slds-grid slds-grid--align-left slds-m-top--x-large">
                        <div class="">
                            <div class="slds-form">
                                <div class="slds-form-element">
                                    <div class="slds-text-heading--medium">
                                        {! $Label.echosign_dev1.Agreement_Editor_Identity_Verification_Header }
                                    </div>
                                </div>
                                <div class="slds-form--inline">
                                    <div class="slds-form-element">
                                        <div>
                                            <span class="slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Identity_Internal_Recipients_Label }</span>
                                        </div>
                                        <div id="agreementInternalVerificationPanel" aria-expanded="true" class="slds-picklist">
                                            <button id="agreementInternalVerificationInput" aura:id="agreementInternalVerificationInput" onclick="{!c.toggleAgreementInternalVerificationSelection}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c ), 'esign-input-readonly ', '' ) + 'esign-small-picklist-button slds-button slds-button--neutral slds-picklist__label' }" aria-haspopup="true">
                                                <span class="esign-picklist-small-value slds-truncate">{! v.agreementWrapper.agreementSignerInternalVerificationMethodLabel }</span>
                                                <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }">
                                                    <echosign_dev1:svgIcon otherClasses="esign-picklist-small-expand" class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                </aura:if>
                                            </button>
                                            <div id="agreementInternalVerificationDropdown" aura:id="agreementInternalVerificationDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                <ul class="slds-dropdown__list" role="menu">
                                                    <aura:if isTrue="{! v.agreementWrapper.agreementSignerInternalVerificationMethod != 'Email' }">
                                                        <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.onAgreementEmailInternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Email_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Password__c, v.agreementWrapper.agreementSignerInternalVerificationMethod != 'Password') }">
                                                        <li id="menu-1-1" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementPasswordInternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Password_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and( v.settingsWrapper.isNaShard, and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Knowledge_Based_Authentication__c, v.agreementWrapper.agreementSignerInternalVerificationMethod != 'KBA') ) }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementKbaInternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_KBA_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Web_Identity__c, v.agreementWrapper.agreementSignerInternalVerificationMethod != 'Social') }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementSocialInternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Social_Label }</a></li>
                                                    </aura:if>
                                                </ul>
                                            </div>
                                        </div>
                                    </div> 
                                    <aura:if isTrue="{! v.agreementWrapper.agreementSignerInternalVerificationMethod == 'Password' }">
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control slds-m-top--medium">
                                                <ui:inputSecret disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }" change="{!c.setAgreementSignPassword}" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Password_Placeholder }" class="slds-input" value="{! v.signPasswordInternal }"/>
                                            </div>
                                        </div>
                                        <div class="slds-form-element">
                                            <div class="slds-form-element__control slds-m-top--medium">
                                                <aura:if isTrue="{! !v.isSent }">
                                                    <ui:inputSecret disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }" change="{!c.setAgreementSignPassword}" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Confirm_Password_Placeholder }" class="slds-input" value="{! v.signPasswordInternalConfirm }"/>
                                                </aura:if>
                                                <aura:if isTrue="{! v.isSignInternalPasswordError }">
                                                    <div id="signPasswordErrorPanel" class="slds-grid esign-field-error esign-password-error-align slds-popover slds-popover--tooltip slds-nubbin--top" role="tooltip">  
                                                        <div class="slds-popover__body">
                                                            <div>
                                                                <p>{! v.signInternalPasswordError }</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </aura:if>
                                            </div>
                                        </div>             
                                    </aura:if>
                                    <div class="slds-form-element">
                                        <div>
                                            <span class="slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Identity_External_Recipients_Label }</span>
                                        </div>
                                        <div id="agreementExternalVerificationPanel" aria-expanded="true" class="slds-picklist">
                                            <button id="agreementExternalVerificationInput" aura:id="agreementExternalVerificationInput" onclick="{!c.toggleAgreementExternalVerificationSelection}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c ), 'esign-input-readonly ', '' ) + 'esign-small-picklist-button slds-button slds-button--neutral slds-picklist__label' }" aria-haspopup="true">
                                                <span class="esign-picklist-small-value slds-truncate">{! v.agreementWrapper.agreementSignerExternalVerificationMethodLabel }</span>
                                                <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }">
                                                    <echosign_dev1:svgIcon otherClasses="esign-picklist-small-expand" class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                </aura:if>
                                            </button>
                                            <div id="agreementExternalVerificationDropdown" aura:id="agreementExternalVerificationDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                <ul class="slds-dropdown__list" role="menu">
                                                    <aura:if isTrue="{! v.agreementWrapper.agreementSignerExternalVerificationMethod != 'Email' }">
                                                        <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.onAgreementEmailExternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Email_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Password__c, v.agreementWrapper.agreementSignerExternalVerificationMethod != 'Password') }">
                                                        <li id="menu-1-1" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementPasswordExternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Password_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and( v.settingsWrapper.isNaShard, and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Knowledge_Based_Authentication__c, v.agreementWrapper.agreementSignerExternalVerificationMethod != 'KBA') ) }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementKbaExternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_KBA_Label }</a></li>
                                                    </aura:if>
                                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Web_Identity__c, v.agreementWrapper.agreementSignerExternalVerificationMethod != 'Social') }">
                                                        <li id="menu-2-2" class="slds-dropdown__item" role="menuitem option" tabindex="-1"><a onclick="{!c.onAgreementSocialExternalVerificationSelection}" tabindex="-1" class="slds-truncate">{! $Label.echosign_dev1.Agreement_Editor_Identity_Social_Label }</a></li>
                                                    </aura:if>
                                                </ul>
                                            </div>
                                        </div>
                                    </div> 
                                    <aura:if isTrue="{! v.agreementWrapper.agreementSignerExternalVerificationMethod == 'Password' }">
                                        <div class="slds-m-top--large slds-form-element">
                                            <div class="slds-form-element__control slds-m-top--medium">
                                                <ui:inputSecret disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }" change="{!c.setAgreementSignPassword}" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Enter_Password_Placeholder }" class="slds-input" value="{! v.signPasswordExternal }"/>
                                            </div>
                                        </div>
                                        
                                        <div class="slds-m-top--large slds-form-element">
                                            <div class="slds-form-element__control slds-m-top--medium">
                                                <aura:if isTrue="{! !v.isSent }">
                                                    <ui:inputSecret disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Security_Options__c) }" change="{!c.setAgreementSignPassword}" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Confirm_Password_Placeholder }" class="slds-input" value="{! v.signPasswordExternalConfirm }"/>
                                                </aura:if>
                                                <aura:if isTrue="{! v.isSignExternalPasswordError }">
                                                    <div id="signPasswordErrorPanel" class="slds-grid esign-field-error esign-external-password-error-align slds-popover slds-popover--tooltip slds-nubbin--top" role="tooltip">  
                                                        <div class="slds-popover__body">
                                                            <div>
                                                                <p>{! v.signExternalPasswordError }</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </aura:if>
                                            </div>
                                        </div>
                                    </aura:if>
                                </div>
                            </div>
                        </div>
                    </div>
                </aura:if>                
                
                <!-- Agreement details starts ********************************************************************************************************************************************** -->
                
                <div class="slds-grid slds-wrap esign-details-margin">
                    
                    <!-- Agreement details left portion start ********************************************************************************************************************************************** -->
                    
                    <div class="slds-col slds-size--1-of-1 slds-large-size--2-of-3">
                        <div class="slds-grid slds-grid--align-left slds-m-bottom--x-small">
                            <div class="slds-col">
                                <div class="slds-text-heading--medium">
                                    {! $Label.echosign_dev1.Agreement_Editor_Details_Header }
                                </div>
                                <div id="agreementNamePanel" data-order="nameTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element__control slds-m-top--x-small"> 
                                    <div class="slds-form-element__control">
                                        <ui:inputText disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Agreement_Name__c, v.isSent ) }" aura:id="agreementName" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Agreement_Name__c, 'esign-input-readonly ', '' ) + 'slds-input esign-regular-border-color' }" value="{!v.agreementName}" required="true" placeholder="{! $Label.echosign_dev1.Agreement_Editor_Agreement_Name_Placeholder }"/>
                                    </div>
                                </div>
                                <div id="nameTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                    <div class="slds-popover__body">
                                        <div>
                                            <p>{! $Label.echosign_dev1.Agreement_Name_Tooltip }</p>
                                        </div>
                                    </div>
                                </div>
                                <aura:if isTrue="{! v.agreementSignOrder != 'Fill &amp; Sign' }">
                                    <div data-order="messageTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element__control slds-m-top--x-small">
                                        <div class="slds-form-element__control">
                                            <ui:inputTextArea disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Message__c, v.isSent ) }" aura:id="agreementMessage" value="{!v.agreementMessage}" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Message__c, 'esign-input-readonly ', '' ) + 'slds-textarea esign-regular-border-color' }" placeholder="{! if( !v.isSent, $Label.echosign_dev1.Agreement_Editor_Message_Placeholder, '' ) }"/>
                                        </div>
                                    </div>
                                    <div id="messageTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                        <div class="slds-popover__body">
                                            <div>
                                                <p>{! $Label.echosign_dev1.Agreement_Editor_Message_Tooltip }</p>
                                            </div>
                                        </div>
                                    </div>
                                </aura:if>
                                <div class="{! if(v.isIe11,'','slds-form--inline') }">
                                    <div class="esign-top-object-lookup-section slds-form-element slds-grid">
                                        
                                        <!-- Account_Lookup ********************************************************************************************************************************************** -->
                                        
                                        <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Account_Lookup__c }">
                                            <div class="{! if( v.isMobile , '', 'slds-p-top--small')  + ' slds-col slds-size--1-of-1 slds-medium-size--1-of-3 slds-form-element__control esign-right-col-padding' }">
                                                <div class="slds-grid slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                    <div class="esign-object-lookup-section slds-form-element">
                                                        <div id="accountLookupPanel" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c, 'esign-input-readonly ', '' ) + 'slds-grid slds-form-element__control esign-lookup-form-control' }">
                                                            <div class="slds-dropdown-trigger slds-align-middle">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#account'}" category="standard" size="small" name="account" />
                                                            </div>
                                                            <aura:if isTrue="{! !v.agreementWrapper.isAccountSet }">
                                                                <ui:inputText aura:id="accountInputLookup" class="{! if( v.isIe11, 'slds-p-bottom--small ', '' ) + 'slds-has-flexi-truncate slds-input--bare esign-desktop-tablet-element' }" placeholder="{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c), $Label.echosign_dev1.Agreement_Editor_Search_Account_Placeholder, '' ) }" />
                                                                <button id="accountInputLookupOnMobile"  aura:id="accountInputLookupOnMobile" onclick="{!c.openAccountDialog}" class="slds-has-flexi-truncate slds-button slds-button--icon-bare esign-mobile-element slds-text-align--left esign-recipient-row" >
                                                                    <a class="slds-m-left--x-small">{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c), $Label.echosign_dev1.Agreement_Editor_Search_Account_Placeholder, '' ) }</a>
                                                                </button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.agreementWrapper.isAccountSet }">
                                                                <button onclick="{!c.navToAccount}" class="slds-button esign-recipient-value slds-has-flexi-truncate"><p class="slds-truncate">{! v.agreementWrapper.accountName }</p></button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! and( and( !v.agreementWrapper.isAccountSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c) }">
                                                                <div class="esign-padding-top-custom-lookups slds-float_right slds-p-right--small">
                                                                    <button onclick="{!c.searchAccount}" class="slds-button slds-button--icon-bare slds-button-space-left slds-float--right slds-shrink-none esign-desktop-tablet-element">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                            </aura:if>
                                                            <aura:if isTrue="{! and( and( v.agreementWrapper.isAccountSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c) }">
                                                                <div class=" esign-padding-top-custom-lookups slds-float--right slds-p-right--small slds-p-left--small">
                                                                    <button onclick="{!c.selectUnsetAccount}" class="slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                            </aura:if>
                                                        </div>
                                                        <div class="slds-pill-container slds-hide"></div>
                                                    </div>
                                                    <div id="accountSearchResults" aura:id="accountSearchResults" class="slds-lookup__menu esign-menu-align-left slds-hide esign-search-panel" role="listbox">
                                                        <ul id="accountSearchResultsList" class="slds-lookup__list esign-desktop-tablet-element" role="presentation">
                                                            <li class="slds-lookup__item" >
                                                                <div>
                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                    <span class="esign-search-results-label">"{! v.searchTerm }" {! $Label.echosign_dev1.Agreement_Editor_Accounts_Search_Term }</span>
                                                                </div>
                                                            </li>
                                                            <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                <li class="slds-lookup__item" ><a onclick="{!c.selectAccountSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                    <div id="accountSearchResultsMobile" aura:id="accountSearchResultsMobile" aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open slds-hide">
                                                        <div class="slds-modal__header esign-mobile-modal-header">
                                                            <h2 class="slds-float--left slds-text-heading--medium">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#account'}" category="standard" size="small" name="account" />
                                                                {! $Label.echosign_dev1.Label_Account  }
                                                            </h2>
                                                            <span onclick="{! c.closeAccountDialog }" class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                                <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                            </span>
                                                        </div>
                                                        <div class="slds-modal__container esign-mobile-modal-container">
                                                            <div class="slds-modal__content esign-mobile-modal-content" >
                                                                <ul id="accountSearchResultsList" class="slds-list--vertical slds-has-dividers--top" role="presentation">  
                                                                    <li class="slds-has-divider--bottom esign-mobile-verification-padding">
                                                                        <aura:if isTrue="{! !v.agreementWrapper.isAccountSet }">
                                                                            <ui:inputText aura:id="accountInputLookupMobile" class="{! if( v.isIe11, 'slds-p-bottom--small ', '' ) + 'slds-has-flexi-truncate slds-input--bare' }" placeholder="{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c), $Label.echosign_dev1.Agreement_Editor_Search_Account_Placeholder, '' ) }" />
                                                                        </aura:if>
                                                                        <aura:if isTrue="{! and( and( !v.agreementWrapper.isAccountSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Account__c) }">
                                                                            <div class="esign-padding-top-custom-lookups slds-float_right slds-p-right--small">
                                                                                <button onclick="{!c.searchAccount}" class="slds-button slds-button--icon-bare slds-button-space-left slds-float--right slds-shrink-none">
                                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                                    <span class="slds-assistive-text"></span>
                                                                                </button>
                                                                            </div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                        <li class="slds-has-divider--bottom esign-mobile-verification-padding" onclick="{!c.selectAccountSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option" >{!searchItemWrapper.name}</li>
                                                                    </aura:iteration>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                                       
                                            </div>
                                        </aura:if>
                                        
                                        <!-- Opportunity_Lookup ********************************************************************************************************************************************** -->
                                        
                                        <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Opportunity_Lookup__c }">
                                            <div class="{! if( v.isMobile , '', 'slds-p-top--small')  + ' slds-col slds-size--1-of-1 slds-medium-size--1-of-3 slds-form-element__control esign-right-col-padding esign-left-col-padding' }">
                                                <div class="slds-grid slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                    <div class="esign-object-lookup-section slds-form-element">
                                                        <div id="oppLookupPanel" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c, 'esign-input-readonly ', '' ) + 'slds-grid slds-form-element__control esign-lookup-form-control' }">
                                                            <div class="slds-dropdown-trigger slds-align-middle">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#opportunity'}" category="standard" size="small" name="opportunity" />
                                                            </div>
                                                            <aura:if isTrue="{! !v.agreementWrapper.isOppSet }">
                                                                <ui:inputText aura:id="oppInputLookup" class="{! if( v.isIe11, 'slds-p-bottom--small ', '' ) + ' slds-has-flexi-truncate slds-input--bare esign-desktop-tablet-element' }"  placeholder="{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c), $Label.echosign_dev1.Agreement_Editor_Search_Opportunity_Placeholder, '' ) }" />
                                                                <button id="oppInputLookupOnMobile"  aura:id="oppInputLookupOnMobile" onclick="{!c.openOppDialog}" class="slds-has-flexi-truncate slds-button slds-button--icon-bare esign-mobile-element slds-text-align--left esign-recipient-row" >
                                                                    <a class="slds-m-left--x-small">{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c), $Label.echosign_dev1.Agreement_Editor_Search_Opportunity_Placeholder, '' ) }</a>
                                                                </button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.agreementWrapper.isOppSet }">
                                                                <button onclick="{!c.navToOpp}" class="slds-button esign-recipient-value  slds-has-flexi-truncate"><p class="slds-truncate">{! v.agreementWrapper.oppName }</p></button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! and( and( !v.agreementWrapper.isOppSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c) }">
                                                                <div class="esign-padding-top-custom-lookups slds-float--right slds-p-right--small esign-desktop-tablet-element">
                                                                    <button onclick="{!c.searchOpp}" class="slds-button slds-button--icon-bare slds-shrink-none">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                            </aura:if>
                                                            <aura:if isTrue="{! and( and( v.agreementWrapper.isOppSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c) }">
                                                                <div class="esign-padding-top-custom-lookups slds-float--right slds-p-right--small slds-m-left--small">
                                                                    <button onclick="{!c.selectUnsetOpp}" class="esign-margin-left-custom-lookups slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                            </aura:if>
                                                        </div>
                                                        <div class="slds-pill-container slds-hide"></div>
                                                    </div>
                                                    <div id="opportunitySearchResults" aura:id="opportunitySearchResults" class="slds-lookup__menu esign-menu-align-left slds-hide esign-search-panel" role="listbox">
                                                        <ul id="oppSearchResultsList" class="slds-lookup__list esign-desktop-tablet-element" role="presentation">                                                            
                                                            <li class="slds-lookup__item" >
                                                                <div>
                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                    <span class="esign-search-results-label">"{! v.searchTerm }" {! $Label.echosign_dev1.Agreement_Editor_Opps_Search_Term }</span>
                                                                </div>
                                                            </li>
                                                            <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                <li class="slds-lookup__item" ><a onclick="{!c.selectOppSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                    <div id="opportunitySearchResultsMobile" aura:id="opportunitySearchResultsMobile" aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open slds-hide">
                                                        <div class="slds-modal__header esign-mobile-modal-header">
                                                            <h2 class="slds-float--left slds-text-heading--medium">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#opportunity'}" category="standard" size="small" name="opportunity" />
                                                                {! $Label.echosign_dev1.Label_opportunity  }
                                                            </h2>
                                                            <span onclick="{! c.closeOpportunityDialog }" class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                                <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                            </span>
                                                        </div>
                                                        <div class="slds-modal__container esign-mobile-modal-container">
                                                            <div class="slds-modal__content esign-mobile-modal-content" >
                                                                <ul id="oppSearchResultsList" class="slds-list--vertical slds-has-dividers--top" role="presentation">    
                                                                    <li class="slds-has-divider--bottom esign-mobile-verification-padding">
                                                                        <aura:if isTrue="{! !v.agreementWrapper.isOppSet }">
                                                                            <ui:inputText aura:id="oppInputLookupMobile" class="{! if( v.isIe11, 'slds-p-bottom--small ', '' ) + ' slds-has-flexi-truncate slds-input--bare' }"  placeholder="{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c), $Label.echosign_dev1.Agreement_Editor_Search_Opportunity_Placeholder, '' ) }" />
                                                                        </aura:if>
                                                                        <aura:if isTrue="{! and( and( !v.agreementWrapper.isOppSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Opportunity__c) }">
                                                                            <div class="esign-padding-top-custom-lookups slds-float--right slds-p-right--small">
                                                                                <button onclick="{!c.searchOpp}" class="slds-button slds-button--icon-bare slds-shrink-none">
                                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                                    <span class="slds-assistive-text"></span>
                                                                                </button>
                                                                            </div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                        <li class="slds-has-divider--bottom esign-mobile-verification-padding" onclick="{!c.selectOppSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option" >{!searchItemWrapper.name}</li>
                                                                    </aura:iteration>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                                       
                                            </div>
                                        </aura:if>
                                        
                                        <!-- Contract_Lookup ********************************************************************************************************************************************** -->
                                        
                                        <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Contract_Lookup__c }">
                                            <div class="{! if( v.isMobile , '', 'slds-p-top--small')  + ' slds-col slds-size--1-of-1 slds-medium-size--1-of-3 slds-m-left-small slds-form-element__control esign-left-col-padding' }">
                                                <div class="slds-grid slds-lookup" data-select="multi" data-scope="multi" data-typeahead="false">
                                                    <div class="esign-object-lookup-section slds-form-element">
                                                        <div id="contractLookupPanel" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c, 'esign-input-readonly ', '' ) + 'slds-grid slds-form-element__control esign-lookup-form-control' }">
                                                            <div class="slds-dropdown-trigger slds-align-middle">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contract'}" category="standard" size="small" name="contract" />
                                                            </div>
                                                            <aura:if isTrue="{! !v.agreementWrapper.isContractSet }">
                                                                <ui:inputText aura:id="contractInputLookup" class="{! if( v.isIe11, 'slds-p-bottom--small ', '' ) + 'slds-has-flexi-truncate slds-input--bare esign-desktop-tablet-element' }" placeholder="{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c), $Label.echosign_dev1.Agreement_Editor_Search_Contract_Placeholder, '' ) }" />
                                                                <button id="contractInputLookupOnMobile"  aura:id="contractInputLookupOnMobile" onclick="{!c.openContractDialog}" class="slds-has-flexi-truncate slds-button slds-button--icon-bare esign-mobile-element slds-text-align--left esign-recipient-row" >
                                                                    <a class="slds-m-left--x-small">{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c), $Label.echosign_dev1.Agreement_Editor_Search_Contract_Placeholder, '' ) }</a>
                                                                </button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! v.agreementWrapper.isContractSet }">
                                                                <button onclick="{!c.navToContract}" class="slds-button esign-recipient-value slds-has-flexi-truncate esign-lookup-value"><p class="slds-truncate">{! v.agreementWrapper.contractName }</p></button>
                                                            </aura:if>
                                                            <aura:if isTrue="{! and( and( !v.agreementWrapper.isContractSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c) }">
                                                                <div class="esign-padding-top-custom-lookups  slds-float--right slds-p-right--small esign-desktop-tablet-element">   
                                                                    <button onclick="{!c.searchContract}" class="esign-margin-left-custom-lookups slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                            </aura:if>
                                                            <aura:if isTrue="{! and( and( v.agreementWrapper.isContractSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c) }">
                                                                <div class="esign-padding-top-custom-lookups  slds-float--right slds-p-right--small slds-m-left--small">
                                                                    <button onclick="{!c.selectUnsetContract}" class="esign-margin-left-custom-lookups slds-button slds-button--icon-bare slds-button-space-left slds-shrink-none">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </div>
                                                            </aura:if>
                                                        </div>
                                                        <div class="slds-pill-container slds-hide"></div>
                                                    </div>
                                                    <div id="contractSearchResults" aura:id="contractSearchResults" class="slds-lookup__menu esign-menu-align-left slds-hide esign-search-panel" role="listbox">
                                                        <ul id="contractSearchResultsList" class="slds-lookup__list esign-desktop-tablet-element" role="presentation">
                                                            <li class="slds-lookup__item" >
                                                                <div>
                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                    <span class="esign-search-results-label">"{! v.searchTerm }" {! $Label.echosign_dev1.Agreement_Editor_Contracts_Search_Term }</span>
                                                                </div>
                                                            </li>
                                                            <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                <li class="slds-lookup__item" ><a onclick="{!c.selectContractSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                    <div id="contractSearchResultsMobile" aura:id="contractSearchResultsMobile" aria-hidden="false" role="dialog" class="slds-modal slds-fade-in-open slds-hide">
                                                        <div class="slds-modal__header esign-mobile-modal-header">
                                                            <h2 class="slds-float--left slds-text-heading--medium">
                                                                <echosign_dev1:svgIcon class="slds-icon slds-icon-standard-user slds-icon--small slds-shrink-none slds-m-right--x-small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/standard-sprite/svg/symbols.svg#contract'}" category="standard" size="small" name="contract" />
                                                                {! $Label.echosign_dev1.Label_Contract }
                                                            </h2>
                                                            <span onclick="{! c.closeContractDialog }" class="slds-icon__container slds-icon-utility-check slds-float--right">
                                                                <echosign_dev1:svgIcon class="slds-icon esign-header-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#close'}" category="utility" size="small" name="close" />
                                                            </span>
                                                        </div>
                                                        <div class="slds-modal__container esign-mobile-modal-container">
                                                            <div class="slds-modal__content esign-mobile-modal-content" >
                                                                <ul id="contractSearchResultsList" class="slds-list--vertical slds-has-dividers--top" role="presentation">
                                                                    <li class="slds-has-divider--bottom esign-mobile-verification-padding">
                                                                        <aura:if isTrue="{! !v.agreementWrapper.isContractSet }">
                                                                            <ui:inputText aura:id="contractInputLookupMobile" class="{! if( v.isIe11, 'slds-p-bottom--small ', '' ) + 'slds-has-flexi-truncate slds-input--bare' }" placeholder="{! if( and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c), $Label.echosign_dev1.Agreement_Editor_Search_Contract_Placeholder, '' ) }" />
                                                                        </aura:if>
                                                                        <aura:if isTrue="{! and( and( !v.agreementWrapper.isContractSet, !v.isSent ), !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Contract__c) }">
                                                                            <div class="esign-padding-top-custom-lookups slds-float--right slds-p-right--small">
                                                                                <button onclick="{!c.searchContract}" class="slds-button slds-button--icon-bare slds-shrink-none">
                                                                                    <echosign_dev1:svgIcon otherClasses="esign-small-icon" class="slds-button__icon esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#search'}" category="utility" size="small" name="search" />
                                                                                    <span class="slds-assistive-text"></span>
                                                                                </button>
                                                                            </div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <aura:iteration items="{!v.searchItemWrappers}" var="searchItemWrapper">
                                                                        <li class="slds-has-divider--bottom esign-mobile-verification-padding" onclick="{!c.selectContractSearchResult}" data-order="{!searchItemWrapper.recordId}" role="option">{!searchItemWrapper.name}</li>
                                                                    </aura:iteration>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                                       
                                            </div>
                                        </aura:if>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slds-grid slds-grid--align-left esign-file-header">
                            <div class="slds-col slds-show--large">
                                <div class="slds-text-heading--medium">
                                    {! $Label.echosign_dev1.Agreement_Editor_Files_Header }
                                </div>
                            </div>
                            <aura:if isTrue="{! v.isNoDocumentsError }">
                                <div id="noDocumentsErrorPanel" class="esign-field-error slds-popover slds-popover--tooltip slds-nubbin--bottom" role="tooltip">  
                                    <div class="slds-popover__body">
                                        <div>
                                            <p>{! $Label.echosign_dev1.Agreement_Editor_No_File_Error }</p>
                                        </div>
                                    </div>
                                </div>
                            </aura:if>
                            <aura:if isTrue="{! !v.isSent }">
                                <div class="slds-col slds-show--large">
                                    <button onclick="{! c.toggleAddDocumentsDialog }" class="slds-button slds-float--right">{! $Label.echosign_dev1.Agreement_Editor_Add_Files_Label }</button>
                                </div>
                            </aura:if>
                        </div>
                        <div class="slds-m-left--xxx-small">
                            
                            <div id="filesMainPanel" class="{! 'esign-medium-file-container esign-box-padding slds-p-bottom slds-grid slds-grid--align-left slds-m-top--x-small slds-box' + if( v.isNoDocumentsError, ' esign-error-panel', '' ) }">
                                <div class="slds-p-bottom slds-size--1-of-1">
                                    <aura:if isTrue="{! v.attachmentWrappers.length == 0 }">
                                        <div class="{! 'slds-text-heading--small esign-center-label slds-p-bottom--x-large slds-show--large' + if( v.isNoDocumentsError, ' esign-error-message', '' ) }">
                                            {! $Label.echosign_dev1.Agreement_Editor_No_Files_Label }
                                        </div>
                                    </aura:if>
                                    <div class="slds-grid slds-hide--large">
                                        <div class="{! 'slds-text-heading--medium slds-p-bottom--medium' + if( v.isNoDocumentsError, ' esign-error-message', '' ) }">
                                            {! $Label.echosign_dev1.Agreement_Editor_Files_Header } ({!v.attachmentWrappers.length})     
                                        </div>
                                        <aura:if isTrue="{! !v.isSent }">
                                            <div class="slds-col--padded ">
                                                <button onclick="{! c.toggleAddDocumentsDialog }" class="slds-button slds-button--neutral slds-float--right">{! $Label.echosign_dev1.Agreement_Editor_Add_Files_Label }</button>
                                            </div>
                                        </aura:if>
                                    </div>
                                    <ul id="sortableDocuments" aura:id="sortableDocuments" class="slds-list--vertical slds-has-cards">
                                        <aura:iteration items="{!v.attachmentWrappers}" var="attachmentWrapper">
                                            <li id="{! 'documentRowItem' + attachmentWrapper.index }" data-order="{! attachmentWrapper.index }" class="esign-document-row slds-list__item ui-state-default esign-medium-file">
                                                <div class="slds-media slds-tile">
                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Disable_Sort_Attachments__c ) }">
                                                        <span class="slds-avatar slds-avatar--x-small slds-p-top--xx-small esign-desktop-tablet-element">
                                                            <img src="{!$Resource.echosign_dev1__GrabberIcon}" alt="" />
                                                        </span>
                                                    </aura:if>
                                                    <div class="slds-media__figure">
                                                        <echosign_dev1:svgIcon svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/doctype-sprite/svg/symbols.svg#' + attachmentWrapper.docType}" category="standard" size="small" name="{!attachmentWrapper.docType}" />
                                                    </div>
                                                    <div class="esign-mobile-element slds-p-top--xx-small">
                                                        <label class="slds-form-element__label">{!attachmentWrapper.fileRepositoryLabel}</label>
                                                    </div>
                                                    <div id="viewDocumentPanel" class="slds-media__body slds-p-top--xx-small slds-hyphenate" title="{!attachmentWrapper.title}">
                                                        <aura:if isTrue="{! and( and( attachmentWrapper.uploadedContent == null, and(attachmentWrapper.libraryId == null, attachmentWrapper.libraryRecordId == null ) ), !v.settingsWrapper.customSettings.echosign_dev1__Disable_View_Agreement_Attachments__c ) }">
                                                            <a data-order="{! attachmentWrapper.index }" onclick="{!c.viewDocument}">{!attachmentWrapper.title}</a>
                                                        </aura:if>
                                                        <aura:if isTrue="{! and( attachmentWrapper.uploadedContent != null, !v.settingsWrapper.customSettings.echosign_dev1__Disable_View_Agreement_Attachments__c ) }">
                                                            <a data-order="{! attachmentWrapper.index }" onclick="{!c.viewUploadedDocument}">{!attachmentWrapper.title}</a>
                                                        </aura:if>
                                                        <aura:if isTrue="{! or( or(attachmentWrapper.libraryId != null, attachmentWrapper.libraryRecordId != null), v.settingsWrapper.customSettings.echosign_dev1__Disable_View_Agreement_Attachments__c ) }">
                                                            {!attachmentWrapper.title}
                                                        </aura:if>
                                                    </div>
                                                    <div class="esign-desktop-tablet-element">
                                                        <label class="slds-form-element__label">{!attachmentWrapper.fileRepositoryLabel}</label>
                                                    </div>
                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Disable_Delete_Agreement_Attachments__c ) }">
                                                        <div data-order="{! attachmentWrapper.index }" id="{!attachmentWrapper.index}" onclick="{!c.deleteDocument}" class="{! if( v.isMobile , 'slds-p-top--xx-small', 'slds-m-right--small' )}">
                                                            <button data-order="{! attachmentWrapper.index }" class="slds-button slds-button--icon-bare">
                                                                <img data-order="{! attachmentWrapper.index }" class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" />
                                                                <span class="slds-assistive-text"></span>
                                                            </button>
                                                        </div>
                                                    </aura:if>
                                                </div>
                                            </li>
                                        </aura:iteration>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <aura:if isTrue="{! v.settingsWrapper.customSettings.echosign_dev1__Enable_Layers_Section__c }">
                            <div class="slds-grid slds-grid--align-left slds-m-top--x-large  slds-show--large">
                                <div class="slds-col">
                                    <div class="slds-text-heading--medium">
                                        {! $Label.echosign_dev1.Agreement_Editor_Form_Header }
                                    </div>
                                </div>
                                <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Disable_Layer_Attachments__c ) }">
                                    <div class="slds-col">
                                        <button onclick="{! c.toggleAddTemplatesDialog }" class="slds-button slds-float--right slds-show--large">{! $Label.echosign_dev1.Agreement_Editor_Add_Templates_Label }</button>
                                    </div>
                                </aura:if>
                            </div>
                            <div class="slds-m-left--xxx-small slds-p-bottom--medium">
                                <div class="esign-medium-file-container slds-grid slds-grid--align-left slds-m-top--x-small slds-box esign-box-padding">
                                    <div class="slds-p-bottom slds-size--1-of-1">
                                        <aura:if isTrue="{! v.templateWrappers.length == 0 }">
                                            <div class="slds-text-heading--small esign-center-label slds-p-bottom--x-large slds-show--large">
                                                {! $Label.echosign_dev1.Agreement_Editor_No_Templates_Label }
                                            </div>
                                        </aura:if>
                                        <div class="slds-grid slds-hide--large">
                                            <div class="{! 'slds-text-heading--medium slds-p-bottom--medium' + if( v.isNoDocumentsError, ' esign-error-message', '' ) }">
                                                {! $Label.echosign_dev1.Agreement_Editor_Form_Header } ({!v.templateWrappers.length})     
                                            </div>                                                      
                                            <aura:if isTrue="{! !v.isSent }">
                                                <div class="slds-col--padded esign-add-templates-padding">
                                                    <button onclick="{! c.toggleAddTemplatesDialog }" class="slds-button slds-button--neutral slds-float--right">{! $Label.echosign_dev1.Agreement_Editor_Add_Templates_Label }</button>
                                                </div>
                                            </aura:if>
                                        </div>
                                        
                                        
                                        <ul id="sortableDocuments" class="slds-list--vertical slds-has-cards">
                                            <aura:iteration items="{!v.templateWrappers}" var="templateWrapper">
                                                <li id="{! 'templateRowItem' + templateWrapper.index }" data-order="{! templateWrapper.index }" class="esign-document-row slds-list__item ui-state-default esign-medium-file">
                                                    <div class="slds-media slds-tile">
                                                        <div class="slds-p-left--small slds-media__figure">
                                                            <echosign_dev1:svgIcon svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/doctype-sprite/svg/symbols.svg#overlay'}" category="standard" size="small" name="overlay" />
                                                        </div>
                                                        <div class="slds-media__body slds-m-left--small slds-p-top--xx-small">
                                                            {!templateWrapper.title}
                                                        </div>
                                                        <div id="{!templateWrapper.index}" onclick="{!c.deleteTemplate}" class="slds-m-right--small">
                                                            <button class="slds-button slds-button--icon-bare">
                                                                <img data-order="{! templateWrapper.index }" class="esign-invert-icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_60.png'}" alt="" />
                                                                <span class="slds-assistive-text">{! $Label.echosign_dev1.Agreement_Editor_Delete_Template_Label }</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </aura:iteration>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </aura:if>
                    </div>
                    
                    <!-- Agreement details left portion end ********************************************************************************************************************************************** -->
                    
                    
                    <!-- Agreement Options - right start ********************************************************************************************************************************************** -->
                    
                    <div class="esign-col--padded  slds-size--1-of-1 slds-large-size--1-of-3 ">
                        <div class="slds-container">
                            
                            <div class="slds-text-heading--medium esign-desktop-tablet-element">
                                {! $Label.echosign_dev1.Agreement_Editor_Options_Header }
                            </div>
                            <div class="slds-page-header slds-box slds-m-top--x-small esign-box-padding slds-show">
                                <aura:if isTrue="{! v.isMobile }">
                                    <div aura:id="ExpandedAgreementOptionButton" class="slds-text-heading--medium slds-hide">
                                        {! $Label.echosign_dev1.Agreement_Editor_Options_Header }
                                        <button onclick="{! c.toggleAgreementOptions }" class="slds-button slds-float--right">
                                            <echosign_dev1:svgIcon otherClasses="esign-replace-signer-icon" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#chevronup'}" category="utility" size="small" name="chevronup" />
                                        </button>
                                    </div>
                                    <div aura:id="CollapsedAgreementOptionButton" class="slds-text-heading--medium slds-show">
                                        {! $Label.echosign_dev1.Agreement_Editor_Options_Header }
                                        <button onclick="{! c.toggleAgreementOptions }" class="slds-button slds-float--right">
                                            <echosign_dev1:svgIcon otherClasses="esign-replace-signer-icon" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#chevrondown'}" category="utility" size="small" name="chevrondown" />
                                        </button>
                                    </div>
                                </aura:if>
                                <div id="AgreementOptions" aura:id="AgreementOptions" class="slds-grid slds-wrap">
                                    <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_View_Password__c }">
                                        
                                        <div class="slds-col slds-size--1-of-1">
                                            <div data-order="viewPasswordTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element">
                                                <label class="slds-checkbox">
                                                    <ui:inputCheckbox change="{!c.setAgreementViewPasswordToggleEnable}" disabled="{! v.isSent }" value="{! v.agreementViewPassword }"/>
                                                    <span class="slds-checkbox--faux"></span>
                                                    <span class="esign-password-label-font-size slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_View_Password_Label }</span>
                                                    
                                                </label>
                                            </div>
                                        </div>
                                        <div id="viewPasswordTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-left slds-hide" role="tooltip">  
                                            <div class="slds-popover__body">
                                                <div>
                                                    <p>{! $Label.echosign_dev1.Agreement_Editor_View_Password_Tooltip }</p>
                                                </div>
                                            </div>
                                        </div>
                                        <aura:if isTrue="{! v.agreementViewPassword }">
                                            <div class="slds-col--padded slds-size--1-of-1 slds-m-top--small esign-agreement-options-padding">
                                                <span class="esign-password-label-font-size">{! $Label.echosign_dev1.Agreement_Editor_Password_Length_Error }</span>
                                            </div>
                                            <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-1 esign-agreement-options-padding">
                                                <div class="slds-form-element slds-m-top--small">
                                                    <div class="slds-form-element__control">
                                                        <ui:inputSecret disabled="{! v.isSent }" change="{!c.setAgreementViewPassword}" placeholder="{! if(v.isSent, '', $Label.echosign_dev1.Agreement_Editor_Enter_Password_Placeholder) }" class="slds-input" value="{! v.viewPassword }"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-2 slds-large-size--1-of-1 esign-agreement-options-padding">
                                                <div class="slds-form-element slds-m-top--small">
                                                    <div class="slds-form-element__control">
                                                        <ui:inputSecret disabled="{! v.isSent }" change="{!c.setAgreementViewPassword}" placeholder="{! if(v.isSent, '', $Label.echosign_dev1.Agreement_Editor_Confirm_Password_Placeholder) }" class="slds-input" value="{! v.viewPasswordConfirm }"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </aura:if>
                                        <aura:if isTrue="{! v.isViewPasswordError }">
                                            <div id="viewPasswordErrorPanel" class="esign-field-error slds-popover slds-popover--tooltip slds-nubbin--top" role="tooltip">  
                                                <div class="slds-popover__body">
                                                    <div>
                                                        <p>{! v.viewPasswordError }</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </aura:if>
                                    </aura:if>
                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Expiration__c, v.agreementSignOrder != 'Fill &amp; Sign') }">
                                        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3 slds-large-size--1-of-1 esign-agreement-options-padding esign-calender-picker">
                                            <div data-order="deadlineTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" >
                                                <div  class="slds-form-element slds-m-top--large">
                                                    <label class="slds-form-element__label" for="date">{! $Label.echosign_dev1.Agreement_Editor_Completion_Deadline_Header }</label>
                                                    <div class="slds-form-element__control">
                                                        <div class="slds-grid slds-picklist__label esign-picklist-label-custom slds-input-has-icon--right">
                                                            <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sign_Expiration__c) }">
                                                                <span id="deadlineDateButton" aura:id="deadlineDateButton" onclick="{!c.toggleDeadline}" >
                                                                    <echosign_dev1:svgIcon class="slds-input__icon slds-icon-text-default" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#event'}" category="utility" size="small" name="event" />
                                                                </span>
                                                            </aura:if>
                                                            <ui:inputText disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sign_Expiration__c, v.isSent ) }" change="{!c.editAgreementDeadline}" aura:id="agreementExpireDateInput" value="{! v.agreementWrapper.signingDeadlineFormatted }" class="{! if( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sign_Expiration__c, 'esign-input-readonly-lighter ', '' ) + 'esign--size--2-of-1 slds-input esign-regular-border-color' }" placeholder="" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="deadlineDate" aura:id="deadlineDate" class="esign-date-picker-right slds-dropdown slds-dropdown--center slds-datepicker slds-hide slds-m-left--xx-large" aria-hidden="false" data-selection="single">
                                                    <div class="slds-datepicker__filter slds-grid">
                                                        <div class="slds-datepicker__filter--month slds-grid slds-grid--align-spread slds-size--3-of-4">
                                                            <div class="slds-align-middle" role="button" aria-labelledby="bn_prev-label" tabindex="0">
                                                                <aura:if isTrue="{! !v.isCurrentMonth }">
                                                                    <button onclick="{! c.onSignDeadlinePrevMonth }" class="slds-button slds-button--icon-container">
                                                                        <echosign_dev1:svgIcon otherClasses="esign-calendar-icon" class="slds-icon slds-icon--small esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#left'}" category="utility" size="small" name="left" />
                                                                        <span class="slds-assistive-text"></span>
                                                                    </button>
                                                                </aura:if>
                                                            </div>
                                                            <div id="month" class="slds-align-middle esign-month-panel" role="heading" aria-live="assertive" aria-atomic="true">{! v.expirePickerSelectedMonth }</div>
                                                            <div class="slds-align-middle" role="button" aria-labelledby="bn_next-label" tabindex="0">
                                                                <button onclick="{! c.onSignDeadlineNextMonth }" class="slds-button slds-button--icon-container">
                                                                    <echosign_dev1:svgIcon otherClasses="esign-calendar-icon" class="slds-icon slds-icon--small esign-invert-full-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#right'}" category="utility" size="small" name="right" />
                                                                    <span class="slds-assistive-text"></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div class="slds-picklist datepicker__filter--year slds-shrink-none esign-year-panel">
                                                            {! v.expirePickerSelectedYearValue }
                                                            <!-- <button id="year" class="slds-button slds-button- -neutral slds-picklist__label" aria-haspopup="true" aria-expanded="false">{! v.expirePickerSelectedYearValue }
                                                    <c:svgIcon otherClasses="esign-date-year-select-down" class="slds-icon slds-icon- -small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                </button> -->
                                                        </div>
                                                    </div>
                                                    <table class="datepicker__month" role="grid" aria-labelledby="month" tabindex="0">
                                                        <thead>
                                                            <tr id="weekdays">
                                                                <th id="Sunday">
                                                                    <abbr title="Sunday">{! $Label.echosign_dev1.Calendar_Day_Sunday }</abbr>
                                                                </th>
                                                                <th id="Monday">
                                                                    <abbr title="">{! $Label.echosign_dev1.Calendar_Day_Monday }</abbr>
                                                                </th>
                                                                <th id="Tuesday">
                                                                    <abbr title="">{! $Label.echosign_dev1.Calendar_Day_Tuesday }</abbr>
                                                                </th>
                                                                <th id="Wednesday">
                                                                    <abbr title="">{! $Label.echosign_dev1.Calendar_Day_Wednesday }</abbr>
                                                                </th>
                                                                <th id="Thursday">
                                                                    <abbr title="">{! $Label.echosign_dev1.Calendar_Day_Thursday }</abbr>
                                                                </th>
                                                                <th id="Friday">
                                                                    <abbr title="">{! $Label.echosign_dev1.Calendar_Day_Friday }</abbr>
                                                                </th>
                                                                <th id="Saturday">
                                                                    <abbr title="">{! $Label.echosign_dev1.Calendar_Day_Saturday }</abbr>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="expireCalBody">
                                                            <aura:iteration items="{!v.calendarWeeks}" var="calendarWeek">
                                                                <tr>
                                                                    <aura:iteration items="{! calendarWeek.days }" var="day">
                                                                        <aura:if isTrue="{! and(day.label != '', day.isAriaDisabled == 'false' ) }">
                                                                            <td data-order="{! day.label }" onclick="{! c.selectAgreementDeadline }" class="{! day.classes }" headers="" role="gridcell" aria-selected="{! day.isAriaSelected }" aria-disabled="{! day.isAriaDisabled }">
                                                                                <span data-order="{! day.label }" class="slds-day">{! day.label }</span>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{! and(day.label != '', day.isAriaDisabled == 'true' ) }">
                                                                            <td data-order="{! day.label }" class="{! day.classes }" headers="" role="gridcell" aria-selected="{! day.isAriaSelected }" aria-disabled="{! day.isAriaDisabled }">
                                                                                <span data-order="{! day.label }" class="slds-day">{! day.label }</span>
                                                                            </td>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{! day.label == '' }">
                                                                            <td data-order="{! day.label }" class="{! day.classes }" headers="" role="gridcell" aria-selected="{! day.isAriaSelected }" aria-disabled="{! day.isAriaDisabled }">
                                                                            </td>
                                                                        </aura:if>
                                                                    </aura:iteration>
                                                                </tr>
                                                            </aura:iteration>
                                                            
                                                        </tbody>
                                                    </table>
                                                    <span id="bn_prev-label" class="slds-assistive-text"></span>
                                                    <span id="bn_next-label" class="slds-assistive-text"></span>
                                                </div>
                                            </div>
                                            <div id="deadlineTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top slds-hide" role="tooltip">  
                                                <div class="slds-popover__body">
                                                    <div>
                                                        <p>{! $Label.echosign_dev1.Agreement_Editor_Deadline_Tooltip }</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </aura:if>
                                    <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Sign_Reminder__c, v.agreementSignOrder != 'Fill &amp; Sign') }">
                                        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3 slds-large-size--1-of-1 esign-agreement-options-padding esign-reminder-option">
                                            <div data-order="reminderTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element slds-m-top--large">
                                                <label class="slds-form-element__label" for="reminderPicklist">{! $Label.echosign_dev1.Agreement_Editor_Create_Reminders_Label }</label>
                                                <div id="reminderPicklist" aria-expanded="true" class="slds-picklist">
                                                    <button id="agreementReminderButton" aura:id="agreementReminderButton" onclick="{!c.toggleReminder}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sign_Reminder__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-size--1-of-1 slds-button slds-button--neutral slds-picklist__label' }" aria-haspopup="true">
                                                        <span class="slds-truncate">{!v.agreementReminderLabel}</span>
                                                        <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Sign_Reminder__c) }">
                                                            <echosign_dev1:svgIcon class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                        </aura:if>
                                                    </button>
                                                    <div id="reminderDropdown" aura:id="reminderDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide esign-menu-full">
                                                        <ul id="reminderDropdownList" class="slds-dropdown__list" role="menu">
                                                            <aura:iteration items="{!v.schemaWrapper.agreementReminderOptions}" var="selectOptionWrapper">
                                                                <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.selectAgreementReminder}" data-order="{!selectOptionWrapper.value}" tabindex="-1" class="slds-truncate">{!selectOptionWrapper.label}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="reminderTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                                <div class="slds-popover__body">
                                                    <div>
                                                        <p>{! $Label.echosign_dev1.Agreement_Editor_Reminder_Tooltip }</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </aura:if>
                                    
                                    <aura:if isTrue="{! v.agreementSignOrder != 'Fill &amp; Sign' }">
                                        <div class="slds-col--padded slds-size--1-of-1 slds-medium-size--1-of-3 slds-large-size--1-of-1 esign-agreement-options-padding esign-language-option">
                                            <div data-order="languageTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element slds-m-top--large">
                                                <label class="slds-form-element__label" for="languagePicklist">{! $Label.echosign_dev1.Agreement_Editor_Recipient_Language_Header }</label>
                                                <div id="languagePicklist" aria-expanded="true" class="slds-picklist">
                                                    <button id="agreementLanguageButton" aura:id="agreementLanguageButton" onclick="{!c.toggleLanguage}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Language__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-size--1-of-1 slds-button slds-button--neutral slds-picklist__label' }" aria-haspopup="true">
                                                        <span class="slds-truncate">{!v.agreementLanguageLabel}</span>
                                                        <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Language__c) }">
                                                            <echosign_dev1:svgIcon class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                        </aura:if>
                                                    </button>
                                                    <div id="languageDropdown" aura:id="languageDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide esign-dropdown">
                                                        <ul id="languageDropdownList" class="slds-dropdown__list esign-scrollable-list" role="menu">
                                                            <aura:iteration items="{!v.schemaWrapper.agreementLanguageOptions}" var="selectOptionWrapper">
                                                                <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.selectAgreementLanguage}" data-order="{!selectOptionWrapper.value}" tabindex="-1" class="slds-truncate">{!selectOptionWrapper.label}</a></li>
                                                            </aura:iteration>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="languageTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                                <div class="slds-popover__body">
                                                    <div>
                                                        <p>{! $Label.echosign_dev1.Agreement_Editor_Locale_Tooltip }</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </aura:if>
                                    <div class="slds-col--padded slds-size--1-of-1 esign-agreement-options-padding">
                                        <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Signature_Type__c, v.agreementSignOrder != 'Fill &amp; Sign')  }">
                                            <div class="slds-form-element slds-m-top--large">
                                                <fieldset class="slds-form-element">
                                                    <label class="slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Signature_Type_Label }</label>
                                                    <div class="slds-form-element__control slds-grid">
                                                        <div class="slds-col slds-size--1-of-2">
                                                            <label class="esign-radio-inline slds-radio" for="esigType">
                                                                <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__SignatureType__c == 'e-Signature' }">
                                                                    <aura:if isTrue="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectESignatureType}" type="radio" name="signatureType" id="esigType" checked="true" disabled="disabled" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectESignatureType}" type="radio" name="signatureType" id="esigType" checked="true" />
                                                                    </aura:if>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__SignatureType__c != 'e-Signature' }">
                                                                    <aura:if isTrue="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectESignatureType}" type="radio" name="signatureType" id="esigType" disabled="disabled" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectESignatureType}" type="radio" name="signatureType" id="esigType" />
                                                                    </aura:if>
                                                                </aura:if>
                                                                <span class="slds-radio--faux esign-radio-button-margin"></span>
                                                                <span class="esign-radio-label slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Electronic_Signature_Type_Label }</span>
                                                            </label>
                                                        </div> 
                                                        
                                                        <div class="slds-col slds-size--1-of-2">
                                                            <label class="esign-radio-align-right esign-radio-inline slds-radio" for="writtenType">
                                                                <!--input onclick="{!c.onSelectWrittenSignatureType}" type="radio" name="signatureType" id="writtenType" / -->
                                                                <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__SignatureType__c == 'Written Signature' }">
                                                                    <aura:if isTrue="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectFaxSignatureType}" type="radio" name="signatureType" id="writtenType" checked="true" disabled="disabled" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectFaxSignatureType}" type="radio" name="signatureType" id="writtenType" checked="true" />
                                                                    </aura:if>
                                                                </aura:if>
                                                                <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__SignatureType__c != 'Written Signature' }">
                                                                    <aura:if isTrue="{! or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectFaxSignatureType}" type="radio" name="signatureType" id="writtenType" disabled="disabled" />
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! and( !v.isSent, !v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Signature_Type__c ) }">
                                                                        <input onclick="{!c.onSelectFaxSignatureType}" type="radio" name="signatureType" id="writtenType" />
                                                                    </aura:if>
                                                                </aura:if>
                                                                <span class="slds-radio--faux esign-radio-button-margin"></span>
                                                                <span class="esign-radio-label slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Written_Signature_Type_Label }</span>
                                                            </label>
                                                        </div>
                                                        
                                                    </div>
                                                </fieldset>
                                            </div>
                                        </aura:if>
                                    </div>
                                    
                                    
                                    <aura:if isTrue="{! and(v.settingsWrapper.customSettings.echosign_dev1__Enable_Post_Sign_Options__c, v.agreementSignOrder != 'Fill &amp; Sign') }">
                                        
                                        <div data-order="postSignUrlTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-col--padded slds-size--1-of-1 slds-form-element slds-m-top--large esign-agreement-options-padding">
                                            <label class="slds-form-element__label" for="postSignUrlProtocolPicklist">{! $Label.echosign_dev1.Agreement_Editor_Post_Sign_URL_Header }</label>
                                            <div id="postSignUrlProtocolPicklist" aria-expanded="true" class="slds-picklist">
                                        <button id="postSignUrlProtocolButton" onclick="{!c.togglePostSignUrlProtocol}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Post_Sign_Options__c ), 'esign-input-readonly-lighter ', '' ) + 'esign-tiny-picklist-button slds-size--1-of-1 slds-button slds-button--neutral slds-picklist__label' }" aria-haspopup="true">
                                                    <span class="slds-truncate">{!v.agreementWrapper.agreementPostSignUrlProtocol}</span>
                                                    <aura:if isTrue="{! and(!v.isSent,!v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Post_Sign_Options__c) }">
                                                        <echosign_dev1:svgIcon otherClasses="esign-tiny-picklist-icon" class="slds-icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#down'}" category="utility" size="small" name="down" />
                                                    </aura:if>
                                                </button>
                                        <ui:inputText disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Post_Sign_Options__c, v.isSent ) }" aura:id="postSignUrl" value="{! v.agreementWrapper.agreementPostSignUrl }" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Post_Sign_Options__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-input esign-narrow-right-input esign-regular-border-color' }" placeholder="" />
                                        <div id="postSignUrlProtocolDropdown" aura:id="postSignUrlProtocolDropdown" class="slds-dropdown slds-dropdown--left slds-dropdown--small slds-dropdown--menu slds-hide">
                                                    <ul id="postSignUrlProtocolDropdownList" class="slds-dropdown__list" role="menu">
                                                        <aura:iteration items="{!v.httpProtocolOptions}" var="selectOption">
                                                            <li id="menu-0-0" class="slds-dropdown__item" role="menuitem option" tabindex="0"><a onclick="{!c.selectPostSignUrlProtocol}" data-order="{!selectOption}" tabindex="-1" class="slds-truncate">{!selectOption}</a></li>
                                                        </aura:iteration>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="postSignUrlTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                            <div class="slds-popover__body">
                                                <div>
                                                    <p>{! $Label.echosign_dev1.Agreement_Editor_Post_Sign_Url_Tooltip }</p>
                                                </div>
                                            </div>
                                        </div>
                                <div data-order="postSignDelayTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-col--padded slds-size--1-of-1 slds-form-element slds-m-top--large esign-agreement-options-padding">
                                            <label class="slds-form-element__label" for="postSignDelay">{! $Label.echosign_dev1.Agreement_Editor_Post_Sign_Delay_Header }</label>
                                    <ui:inputNumber disabled="{! or( v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Post_Sign_Options__c, v.isSent ) }" aura:id="postSignDelay" value="{!v.agreementWrapper.agreementPostSignDelay}" class="{! if( or( v.isSent, v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Post_Sign_Options__c ), 'esign-input-readonly-lighter ', '' ) + 'slds-input esign-regular-border-color' }" placeholder="" />
                                        </div>
                                        <div id="postSignDelayTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-right slds-hide" role="tooltip">  
                                            <div class="slds-popover__body">
                                                <div>
                                                    <p>{! $Label.echosign_dev1.Agreement_Editor_Post_Sign_Delay_Tooltip }</p>
                                                </div>
                                            </div>
                                        </div>
                                    </aura:if>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Agreement Options - right end ********************************************************************************************************************************************** -->
                    
                </div>
                
                
                <!-- Agreement details end ********************************************************************************************************************************************** -->
                
                <!-- Agreement preview checkbox starts ********************************************************************************************************************************************** -->
                
                <div class="slds-m-top--large slds-show--large">
                    <aura:if isTrue="{! !v.isSent }">
                        <aura:if isTrue="{! and(!v.settingsWrapper.customSettings.echosign_dev1__Disable_Preview_Position__c,  v.agreementSignOrder != 'Fill &amp; Sign') }">
                            <div class="slds-m-top--small">
                                
                                <div data-order="authoringTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element slds-m-top--x-small">
                                    <label class="slds-checkbox">
                                        <ui:inputCheckbox disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Preview_Position__c) }" value="{! v.agreementAuthoring }" />
                                        <span class="slds-checkbox--faux"></span>
                                        <span class="slds-form-element__label slds-m-left--small">{! $Label.echosign_dev1.Agreement_Editor_Authoring_Label }</span>
                                    </label>
                                </div>
                                <div id="authoringTooltip" class="esign-tooltip slds-popover slds-popover--tooltip slds-nubbin--top-left slds-hide" role="tooltip">  
                                    <div class="slds-popover__body">
                                        <div>
                                            <p>{! $Label.echosign_dev1.Agreement_Editor_Authoring_Tooltip }</p>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>
                        </aura:if>
                    </aura:if>
                    <aura:if isTrue="{! or(!v.isSent,v.agreementWrapper.isAuthoringSubmittedStatus) }">
                        <div class="slds-m-top--small">
                            <lightning:button disabled="{! or( v.signExternalPasswordError, or( or( v.signInternalPasswordError, v.isSignPasswordError ) ), v.isViewPasswordError ) }" class="esign-send-button-styling" onclick="{!c.sendAgreement}" variant="brand">{! v.agreementAuthoring ? $Label.echosign_dev1.Next_Button_Label : $Label.echosign_dev1.Agreement_Editor_Send_Button_Label }</lightning:button>
                            <!-- <button onclick="{!c.saveAgreement}" class="slds-button slds-button- -neutral slds-m-left- -small">Save as Draft</button> -->
                        </div>
                        
                    </aura:if>
                </div>
                
                <!-- Agreement singed pdf start ********************************************************************************************************************************************** -->
                
                <aura:if isTrue="{! v.isSent }">
                    <div id="mydiv" class="slds-m-top--small slds-hide--large" onClick="alert('this is magic')">
                        <div  class="esign-medium-file-container slds-p-bottom--xx-large slds-grid slds-grid--align-left slds-m-top--x-small slds-box">
                            <div class="slds-p-bottom slds-size--1-of-1">
                                <div class="slds-grid">
                                    <div class="slds-col--padded  slds-text-heading--medium slds-p-bottom--medium">
                                        {! $Label.echosign_dev1.Agreement_Editor_Signed_Agreement_Header }   
                                    </div>
                                </div>
                                <div class="slds-grid">
                                    <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__SignedPDF__c != null }">
                                        <div class="slds-media__figure slds-col--padded ">
                                            <echosign_dev1:svgIcon svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/doctype-sprite/svg/symbols.svg#pdf'}" category="standard" size="small" name="pdf" />
                                            <a class="esign-signed-document-link" onclick="{!c.viewSignedDocumentLink}">{! v.agreementWrapper.agreement.Name + '.pdf' }</a>
                                        </div>
                                        <div class="slds-col--padded slds-float--right">
                                            <button onclick="{! c.navigateToSignedPdf }" class="slds-button slds-float--right">
                                                <div class="esign-right-center-icon" >
                                                    <echosign_dev1:svgIcon otherClasses="esign-replace-signer-icon" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#chevronright'}" category="utility" size="small" name="check" />
                                                </div>
                                            </button>
                                        </div>
                                    </aura:if>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="esign-footer--margin slds-hide--large">
                        <div  class="esign-medium-file-container slds-p-bottom--xx-large slds-grid slds-grid--align-left slds-m-top--x-small slds-box">
                            <div class="slds-p-bottom slds-size--1-of-1">
                                <div class="slds-grid">
                                    <div class="slds-col--padded  slds-text-heading--medium slds-p-bottom--medium">
                                        {! $Label.echosign_dev1.Agreement_Editor_Agreement_Events_Header }   
                                    </div>
                                </div>
                                <aura:iteration items="{!v.agreementWrapper.agreementEventWrappers}" var="agreementEventWrapper" indexVar="index">
                                    <aura:if isTrue="{! index == 0 }">
                                        <li class="">
                                            <span class="slds-assistive-text">{! $Label.echosign_dev1.Agreement_Editor_Agreement_Event_Label }</span>
                                            <div class="slds-media slds-media--reverse">
                                                <div class="slds-media__body">
                                                    <div class="slds-media slds-media--timeline slds-timeline__media--task" style="padding-bottom: 2px;">
                                                        <div class="slds-media__figure slds-m-top--medium">
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'CREATED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#new'}" category="action" size="small" name="new" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/new_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! or( agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT', or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR APPROVAL' , or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR ACCEPTANCE' , or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR FORM-FILLING' , or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR DELIVERY' )))))}">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#email'}" category="action" size="small" name="email" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SIGNED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#edit'}" category="action" size="small" name="edit" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/edit_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'APPROVED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/approval_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'ACCEPTED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->	
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/accepted_64.png'}" alt=""/>	
                                                            </aura:if>	
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'FORM-FILLED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->	
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/formfilled_64.png'}" alt=""/>	
                                                            </aura:if>	
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'DELIVERED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->	
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/certified_delivered_64.png'}" alt=""/>	
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'VIEWED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#preview'}" category="action" size="small" name="preview" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/preview_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'CANCELLED' 
                                                                            || agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'DECLINED'
                                                                            || agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'EXPIRED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#close'}" category="action" size="small" name="close" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'REMINDER' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#announcement'}" category="action" size="small" name="announcement" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/announcement_120.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'BOUNCED' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#announcement'}" category="action" size="small" name="announcement" /> -->
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_gets_bounced_64.png'}" alt=""/>
                                                            </aura:if>
                                                            <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'OTHER' }">
                                                                <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#more'}" category="action" size="small" name="more" /> --> 
                                                                <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/more_120.png'}" alt=""/>
                                                            </aura:if>
                                                        </div>
                                                        <div class="">
                                                            <div class="slds-media slds-tile slds-media--small">
                                                                <div class="slds-media__body">
                                                                    <p class="slds-tile__title">{! agreementEventWrapper.agreementEvent.echosign_dev1__Description__c }</p>
                                                                    <ul class="slds-tile__detail slds-list--horizontal slds-text-body--small">
                                                                        <li class="slds-list__item slds-m-right--large">
                                                                            <dl class="slds-dl--inline">
                                                                                <dt class="slds-dl--inline__label">{! agreementEventWrapper.eventDateTimeFormatted }</dt>
                                                                            </dl>
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="slds-col--padded slds-float--right ">
                                                            <button onclick="{! c.navigateToEvents}" class="slds-button slds-float--right">
                                                                <div class="esign-right-center-icon" >
                                                                    <echosign_dev1:svgIcon otherClasses="esign-replace-signer-icon" class="slds-icon slds-icon-text-default slds-icon--small" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/utility-sprite/svg/symbols.svg#chevronright'}" category="utility" size="small" name="check" />
                                                                </div>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </aura:if>
                                    
                                </aura:iteration>
                                
                            </div>
                            
                        </div>
                    </div>
                    
                    <!-- Desktop -->
                    
                    <div class="slds-grid slds-grid--align-left slds-m-top--x-large slds-show--large">
                        <aura:if isTrue="{! or( v.agreementWrapper.signedImageUrls.length > 0, v.agreementWrapper.agreement.SignedPDF__c != null ) }">
                            <div class="slds-size--1-of-3 slds-col--padded">
                                <div class="slds-text-heading--medium">
                                    {! $Label.echosign_dev1.Agreement_Editor_Agreement_Events_Header }
                                </div>
                                <aura:if isTrue="{! v.agreementWrapper.agreement.echosign_dev1__SignedPDF__c != null }">
                                    <div class="slds-m-top--large">
                                        <div class="slds-media__figure">
                                            <echosign_dev1:svgIcon svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/doctype-sprite/svg/symbols.svg#pdf'}" category="standard" size="small" name="pdf" />
                                            <a class="esign-signed-document-link" onclick="{!c.viewSignedDocumentLink}">{! v.agreementWrapper.agreement.Name + '.pdf' }</a>
                                        </div>
                                    </div>
                                </aura:if>
                                <aura:if isTrue="{! v.agreementWrapper.signedImageUrls.length > 0 }">
                                    <div class="slds-m-top--large">
                                        <div class="esign-signed-image-panel">
                                            <aura:iteration items="{!v.agreementWrapper.signedImageUrls}" var="signedImageUrl">
                                                <div>
                                                    <aura:if isTrue="{! v.agreementWrapper.isSignedImageUrlFrame }">
                                                        <iframe src="{! signedImageUrl }" width="100%" height="100%" frameborder="0" />
                                                    </aura:if>
                                                    <aura:if isTrue="{! !v.agreementWrapper.isSignedImageUrlFrame }">
                                                        <img class="esign-signed-image" src="{! signedImageUrl }" alt="" />
                                                    </aura:if>
                                                </div>
                                            </aura:iteration>
                                        </div>
                                    </div>
                                </aura:if>
                            </div>
                        </aura:if>
                        <div class="slds-col--padded">
                            <div class="slds-text-heading--medium">
                                {! $Label.echosign_dev1.Agreement_Editor_Agreement_Events_Header }
                            </div>
                            <ul class="slds-timeline slds-m-top--large">
                                <aura:iteration items="{!v.agreementWrapper.agreementEventWrappers}" var="agreementEventWrapper">
                                    <li class="slds-timeline__item">
                                        <span class="slds-assistive-text">{! $Label.echosign_dev1.Agreement_Editor_Agreement_Event_Label }</span>
                                        <div class="slds-media slds-media--reverse">
                                            <div class="slds-media__body">
                                                <div class="slds-media slds-media--timeline slds-timeline__media--task">
                                                    <div class="slds-media__figure slds-m-top--medium">
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'CREATED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#new" category="action" size="small" name="new" /> -->

                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/new_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! or( agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT', or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR APPROVAL' , or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR ACCEPTANCE' , or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR FORM-FILLING' , or(agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SENT FOR DELIVERY' )))))}">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#email" category="action" size="small" name="email" /> -->

                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'SIGNED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#edit" category="action" size="small" name="edit" /> -->
                                                            
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/edit_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'APPROVED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval" category="action" size="small" name="approval" /> -->
                                                            
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/approval_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'ACCEPTED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/accepted_64.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'FORM-FILLED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/formfilled_64.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'DELIVERED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#approval'}" category="action" size="small" name="approval" /> -->
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/certified_delivered_64.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'VIEWED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#preview" category="action" size="small" name="preview" /> -->                                        
                                                            
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/preview_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'CANCELLED' 
                                                                            || agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'DECLINED'
                                                                            || agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'EXPIRED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#close" category="action" size="small" name="close" /> -->

                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/close_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'REMINDER' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#announcement" category="action" size="small" name="announcement" /> -->

                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/announcement_120.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'BOUNCED' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action-sprite/svg/symbols.svg#announcement'}" category="action" size="small" name="announcement" /> -->
                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/email_gets_bounced_64.png'}" alt=""/>
                                                        </aura:if>
                                                        <aura:if isTrue="{! agreementEventWrapper.agreementEvent.echosign_dev1__Type__c == 'OTHER' }">
                                                            <!-- <c:svgIcon otherClasses="esign-event-icon" class="slds-icon slds-icon-standard-task slds-timeline__icon" svgPath="/resource/echosign_dev1__SLDS/SLDS/assets/icons/action-sprite/svg/symbols.svg#more" category="action" size="small" name="more" /> -->

                                                            <img class="slds-icon__container slds-icon slds-icon-standard-task slds-timeline__icon" src="{!$Resource.echosign_dev1__SLDS + '/SLDS/assets/icons/action/more_120.png'}" alt=""/>
                                                        </aura:if>
                                                    </div>
                                                    <div class="slds-media__body slds-m-top--medium">
                                                        <div class="slds-media slds-tile slds-media--small">
                                                            <div class="slds-media__body">
                                                                <p class="slds-tile__title slds-truncate">{! agreementEventWrapper.agreementEvent.echosign_dev1__Description__c }</p>
                                                                <ul class="slds-tile__detail slds-list--horizontal slds-text-body--small">
                                                                    <li class="slds-list__item slds-m-right--large">
                                                                        <dl class="slds-dl--inline">
                                                                            <dt class="slds-dl--inline__label">{! agreementEventWrapper.eventDateTimeFormatted }</dt>
                                                                        </dl>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </aura:iteration>
                            </ul>
                        </div>
                    </div>
                </aura:if>
                
                <!-- Agreement singed pdf end ********************************************************************************************************************************************** -->
                
              <ltng:require scripts="" afterScriptsLoaded="{!c.afterPageLoaded}"/>  
                
            </aura:if>
            
            <!-- Footer for Tablet/Mobile ********************************************************************************************************************************************** -->
            <aura:if isTrue="{! !v.isLoading }">
                <div class="esign-footer--margin"></div>
                <div class="{! if( v.isMobile , '', ' esign-docked-form-footer')  + ' slds-hide--large esign-tablet-footer' }">
                    <aura:if isTrue="{! !v.isSent }">
                        <aura:if isTrue="{! and(v.agreementWrapper.agreement.Id != null, v.settingsWrapper.toolbarSettings.echosign_dev1__Save_Agreement__c ) }">
                            <button onclick="{!c.saveAgreement}" class="slds-button slds-button--neutral slds-m-left--small ">{! $Label.echosign_dev1.Agreement_Editor_Save_Button_Label }</button>
                        </aura:if>
                        <aura:if isTrue="{! and(v.agreementWrapper.agreement.Id == null, v.settingsWrapper.toolbarSettings.echosign_dev1__Save_Agreement__c ) }">
                            <button onclick="{!c.saveAgreement}" class="slds-button slds-button--neutral slds-no-wrap slds-float--left slds-m-left--small">{! $Label.echosign_dev1.Agreement_Editor_Save_Draft_Button_Label }</button>
                        </aura:if>
                        <aura:if isTrue="{! and(v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Draft__c, v.agreementWrapper.agreement.Id != null) }">
                            <button onclick="{!c.deleteAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Draft_Button_Label }</button>
                        </aura:if>
                    </aura:if>
                    <div class="slds-float--right esign-send-button" role="group">
                        
                        <aura:if isTrue="{! v.agreementWrapper.isAuthoringSubmittedStatus }">
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c }">
                                <button onclick="{!c.updateAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Update_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                <button onclick="{!c.viewAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                <button onclick="{!c.toggleDeleteAgreementDialog}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                            </aura:if>
                        </aura:if>
                        <aura:if isTrue="{! v.agreementWrapper.isInFlightStatus }">
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Host_Send_Agreement__c }">
                                <button onclick="{!c.hostAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Host_Signing_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Send_Reminder__c }">
                                <button onclick="{!c.sendReminder}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Remind_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c }">
                                <button onclick="{!c.updateAgreement}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Update_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                <button onclick="{!c.viewAgreement}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                <button onclick="{!c.toggleDeleteAgreementDialog}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Agreement__c }">
                                <button onclick="{!c.toggleCancelAgreementDialog}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Cancel_Button_Label }</button>
                            </aura:if>
                        </aura:if>
                        <aura:if isTrue="{! v.agreementWrapper.isFinalStatus }">
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                <button onclick="{!c.viewAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                            </aura:if>
                            <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                <button onclick="{!c.toggleDeleteAgreementDialog}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                            </aura:if>
                        </aura:if>
                        
                        
                        <!-- Send Button *********************************************************** -->
                        <aura:if isTrue="{! or(!v.isSent,v.agreementWrapper.isAuthoringSubmittedStatus) }">
                            
                            <div class="slds-float--right ">
                                <button onclick="{!c.sendAgreement}" class="slds-button slds-button--brand slds-float--right">{! v.agreementAuthoring ? $Label.echosign_dev1.Next_Button_Label : $Label.echosign_dev1.Agreement_Editor_Send_Button_Label }</button>
                                <!-- Preview Checkbox *********************************************************** -->
                                <aura:if isTrue="{! and(!v.isSent, v.agreementSignOrder != 'Fill &amp; Sign') }">
                                    <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Preview_Position__c }">
                                        <div data-order="authoringTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element slds-m-left--xx-large  slds-m-top--x-small slds-float--right ">
                                            <label class="slds-checkbox">
                                                <ui:inputCheckbox disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Preview_Position__c) }" value="{! v.agreementAuthoring }" />
                                                <span class="slds-checkbox--faux"></span>
                                                
                                                <span class="slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Authoring_Label }</span>
                                            </label>
                                        </div>
                                    </aura:if>
                                    
                                </aura:if>
                            </div>
                        </aura:if>
                    </div>
                </div>
                <!-- Footer for Mobile ********************************************************************************************************************************************** -->
                <div class="slds-hide--large esign-mobile-footer slds-scrollable">
                    <!-- Preview Checkbox for Moble*********************************************************** -->
                    <aura:if isTrue="{! and(!v.isSent, v.agreementSignOrder != 'Fill &amp; Sign') }">
                        
                        <aura:if isTrue="{! !v.settingsWrapper.customSettings.echosign_dev1__Disable_Preview_Position__c }">
                            <div data-order="authoringTooltip" onclick="{! c.onTooltipOut }" onmouseover="{! c.onTooltipOver }" onmouseout="{! c.onTooltipOut }" class="slds-form-element slds-m-left--xx-large  slds-m-top--x-small esign-preview-checkbox-mobile">
                                <label class="slds-checkbox">
                                    <ui:inputCheckbox disabled="{! or(v.isSent,v.settingsWrapper.customSettings.echosign_dev1__Read_Only_Preview_Position__c) }" value="{! v.agreementAuthoring }" />
                                    <span class="slds-checkbox--faux"></span>
                                    
                                    <span class="slds-form-element__label">{! $Label.echosign_dev1.Agreement_Editor_Authoring_Label }</span>
                                </label>
                            </div>
                        </aura:if>
                    </aura:if>
                    <div class="slds-grid slds-wrap">
                        <div class="{! if( !v.isSent , 'slds-align--absolute-center ', '')  + ' slds-col slds-size--6-of-12 slds-button-group ' }" role="group">
                            <aura:if isTrue="{! !v.isSent }">
                                <aura:if isTrue="{! and(v.agreementWrapper.agreement.Id != null, v.settingsWrapper.toolbarSettings.echosign_dev1__Save_Agreement__c ) }">
                                    <button onclick="{!c.saveAgreement}" class="slds-button slds-button--neutral ">{! $Label.echosign_dev1.Agreement_Editor_Save_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! and(v.agreementWrapper.agreement.Id == null, v.settingsWrapper.toolbarSettings.echosign_dev1__Save_Agreement__c ) }">
                                    <button onclick="{!c.saveAgreement}" class="slds-button slds-button--neutral slds-no-wrap">{! $Label.echosign_dev1.Agreement_Editor_Save_Draft_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! and(v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Draft__c, v.agreementWrapper.agreement.Id != null) }">
                                    <button onclick="{!c.deleteAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Draft_Button_Label }</button>
                                </aura:if>
                            </aura:if>
                            <aura:if isTrue="{! v.agreementWrapper.isAuthoringSubmittedStatus }">
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c }">
                                    <button onclick="{!c.updateAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Update_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                    <button onclick="{!c.viewAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                    <button onclick="{!c.toggleDeleteAgreementDialog}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                                </aura:if>
                            </aura:if>
                            <aura:if isTrue="{! v.agreementWrapper.isInFlightStatus }">
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Host_Send_Agreement__c }">
                                    <button onclick="{!c.hostAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Host_Signing_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Send_Reminder__c }">
                                    <button onclick="{!c.sendReminder}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Remind_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Update_Status__c }">
                                    <button onclick="{!c.updateAgreement}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Update_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                    <button onclick="{!c.viewAgreement}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                    <button onclick="{!c.toggleDeleteAgreementDialog}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Cancel_Agreement__c }">
                                    <button onclick="{!c.toggleCancelAgreementDialog}"  class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Cancel_Button_Label }</button>
                                </aura:if>
                            </aura:if>
                            <aura:if isTrue="{! v.agreementWrapper.isFinalStatus }">
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__View_Agreement__c }">
                                    <button onclick="{!c.viewAgreement}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_View_Button_Label }</button>
                                </aura:if>
                                <aura:if isTrue="{! v.settingsWrapper.toolbarSettings.echosign_dev1__Delete_Agreement__c }">
                                    <button onclick="{!c.toggleDeleteAgreementDialog}" class="slds-button slds-button--neutral">{! $Label.echosign_dev1.Agreement_Editor_Delete_Button_Label }</button>
                                </aura:if>
                            </aura:if>
                            
                        </div>
                        <!-- Send Button *********************************************************** -->
                        <aura:if isTrue="{! or(!v.isSent,v.agreementWrapper.isAuthoringSubmittedStatus) }">
                            <div class="slds-align--absolute-center slds-col slds-size--6-of-12 slds-grid--align-center esign-send-button-section">
                                <button onclick="{!c.sendAgreement}" class="slds-button slds-button--brand esign-send-button slds-float--right">{! v.agreementAuthoring ? $Label.echosign_dev1.Next_Button_Label : $Label.echosign_dev1.Agreement_Editor_Send_Button_Label }</button>
                            </div>
                        </aura:if>
                    </div>
                </div>
            </aura:if>
        </div>
    </div>
</aura:component>